2025-11-03 20:04:58.054 +02:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-03 20:04:58.856 +02:00 [INF] Now listening on: http://localhost:5062
2025-11-03 20:04:59.170 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-03 20:04:59.205 +02:00 [INF] Hosting environment: Development
2025-11-03 20:04:59.214 +02:00 [INF] Content root path: C:\Work\TaskManager\TaskManager
2025-11-03 20:04:59.535 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:04:59.780 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:04:59.870 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:04:59.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 358.8234ms
2025-11-03 20:04:59.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:04:59.963 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:04:59.994 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:05:00.005 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:05:00.018 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:05:00.024 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 200 0 null 96.7807ms
2025-11-03 20:05:02.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:05:02.768 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:05:02.781 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:05:02.789 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:05:02.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 81.9481ms
2025-11-03 20:05:02.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:05:02.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:05:02.854 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:05:02.863 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:05:02.869 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:05:02.872 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:05:02.903 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:05:02.909 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 72.8945ms
2025-11-03 20:05:02.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:05:02.933 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:05:06.013 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:05:06.057 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:05:06.068 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:05:06.150 +02:00 [INF] Executed DbCommand (198ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:05:06.175 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:05:06.183 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:05:06.193 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:05:07.329 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-03 20:05:07.559 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:05:07.559 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:05:07.905 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:05:07.930 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:05:07.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 5027.0736ms
2025-11-03 20:05:07.960 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:05:07.991 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:05:07.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 5162.6059ms
2025-11-03 20:05:09.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:05:09.761 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:05:09.772 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:05:09.781 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 46.7906ms
2025-11-03 20:05:09.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:05:09.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:05:09.808 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:05:09.818 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:05:09.822 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:05:09.829 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:05:09.833 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:05:09.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 42.5981ms
2025-11-03 20:05:09.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:05:09.859 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:05:09.882 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:05:09.882 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:05:09.898 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:05:09.909 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:05:09.909 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:05:09.913 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:05:09.922 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:05:09.924 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:05:09.942 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:05:09.950 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:05:09.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 109.2289ms
2025-11-03 20:05:09.962 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:05:09.987 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:05:09.991 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:05:10.000 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 203.6875ms
2025-11-03 20:05:10.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - null null
2025-11-03 20:05:10.041 +02:00 [INF] The file /photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg was not modified
2025-11-03 20:05:10.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - 304 null image/jpeg 33.9609ms
2025-11-03 20:05:13.653 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - application/json 286
2025-11-03 20:05:13.683 +02:00 [INF] Executing endpoint '415 HTTP Unsupported Media Type'
2025-11-03 20:05:13.691 +02:00 [INF] Executed endpoint '415 HTTP Unsupported Media Type'
2025-11-03 20:05:13.712 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 415 0 null 58.3352ms
2025-11-03 20:07:52.545 +02:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-03 20:07:53.604 +02:00 [INF] Now listening on: http://localhost:5062
2025-11-03 20:07:53.639 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-03 20:07:53.645 +02:00 [INF] Hosting environment: Development
2025-11-03 20:07:53.649 +02:00 [INF] Content root path: C:\Work\TaskManager\TaskManager
2025-11-03 20:07:53.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:07:54.044 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:07:54.091 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:07:54.113 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 331.5843ms
2025-11-03 20:07:54.155 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:07:54.182 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:07:54.219 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:07:54.234 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:07:54.239 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:07:54.245 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 200 0 null 91.771ms
2025-11-03 20:07:55.870 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:07:55.917 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:07:55.929 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:07:55.939 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:07:55.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 77.1728ms
2025-11-03 20:07:55.987 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:07:55.987 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:07:56.011 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:07:56.026 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:07:56.037 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:07:56.043 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:07:56.078 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:07:56.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 99.1436ms
2025-11-03 20:07:56.106 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:07:56.132 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:07:59.435 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:07:59.435 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:07:59.482 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:07:59.482 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:07:59.490 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:07:59.494 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:07:59.502 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:08:00.829 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-03 20:08:01.062 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:08:01.062 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:08:01.419 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:08:01.430 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:08:01.445 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:08:01.463 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:08:01.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 5357.0192ms
2025-11-03 20:08:01.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 5483.2191ms
2025-11-03 20:08:02.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:08:02.508 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:08:02.523 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:08:02.535 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 41.3812ms
2025-11-03 20:08:02.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:08:02.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:08:02.572 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:08:02.587 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:08:02.599 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:08:02.603 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:08:02.609 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:08:02.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 59.5799ms
2025-11-03 20:08:02.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:08:02.645 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:08:02.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:08:02.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:08:02.666 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:08:02.677 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:08:02.678 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:08:02.683 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:08:02.710 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:08:02.715 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:08:02.730 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:08:02.747 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:08:02.766 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:08:02.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 133.9807ms
2025-11-03 20:08:02.782 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:08:02.796 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:08:02.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 255.9169ms
2025-11-03 20:08:02.817 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - null null
2025-11-03 20:08:02.842 +02:00 [INF] The file /photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg was not modified
2025-11-03 20:08:02.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - 304 null image/jpeg 31.2056ms
2025-11-03 20:08:08.847 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - application/json 286
2025-11-03 20:08:08.873 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:08:08.967 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:08:09.301 +02:00 [ERR] Неизвестная необработанная ошибка: Failed to read parameter "NoteUpdateDto noteDto" from the request body as JSON.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "NoteUpdateDto noteDto" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to Microsoft.AspNetCore.Http.IFormFile. Path: $.images[0] | LineNumber: 0 | BytePositionInLine: 284.
   at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:08:09.498 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 651.9431ms
2025-11-03 20:08:38.477 +02:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-03 20:08:38.892 +02:00 [INF] Now listening on: http://localhost:5062
2025-11-03 20:08:38.898 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-03 20:08:38.901 +02:00 [INF] Hosting environment: Development
2025-11-03 20:08:38.904 +02:00 [INF] Content root path: C:\Work\TaskManager\TaskManager
2025-11-03 20:08:39.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:08:39.858 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:08:39.899 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:08:39.909 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 331.3537ms
2025-11-03 20:08:39.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:08:39.961 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:08:40.001 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:08:40.010 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:08:40.017 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:08:40.021 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 200 0 null 86.84ms
2025-11-03 20:09:53.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:09:53.283 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:09:53.309 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:09:53.330 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:09:53.330 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:09:53.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 118.4866ms
2025-11-03 20:09:53.365 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:09:53.383 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:09:53.413 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:09:53.419 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:09:53.457 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:09:53.466 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 136.5015ms
2025-11-03 20:09:53.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:09:53.508 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:09:56.930 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:09:56.930 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:09:56.999 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:09:57.003 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:09:57.014 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:09:57.021 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:09:57.039 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:09:57.932 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-03 20:09:58.014 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:09:58.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:09:58.295 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:09:58.298 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:09:58.316 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:09:58.329 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:09:58.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 4851.4513ms
2025-11-03 20:09:58.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 5007.8515ms
2025-11-03 20:09:58.363 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - null null
2025-11-03 20:09:58.384 +02:00 [INF] The file /photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg was not modified
2025-11-03 20:09:58.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - 304 null image/jpeg 27.868ms
2025-11-03 20:10:02.824 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundarysmlIu3h9IkqiFCbF 470
2025-11-03 20:10:02.904 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:10:02.928 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:10:03.229 +02:00 [ERR] Неизвестная необработанная ошибка: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
 ---> Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery request token was not provided in either form field "__RequestVerificationToken" or header value "X-CSRF-TOKEN".
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidAntiforgeryToken(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForForm>g__TryReadFormAsync|104_0(HttpContext httpContext, String parameterTypeName, String parameterName, Boolean throwOnBadRequest)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:10:03.400 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 576.6619ms
2025-11-03 20:10:12.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:10:12.801 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:10:12.815 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:10:12.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 63.2911ms
2025-11-03 20:10:12.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:10:12.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:10:12.883 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:10:12.904 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:10:12.916 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:10:12.921 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:10:12.929 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:10:12.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 71.9946ms
2025-11-03 20:10:12.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:10:12.967 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:10:12.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:10:12.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:10:12.999 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:10:13.008 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:10:13.011 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:10:13.015 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:10:13.019 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:10:13.032 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:10:13.032 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:10:13.045 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:10:13.062 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:10:13.064 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:10:13.070 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 225.5683ms
2025-11-03 20:10:13.078 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:10:13.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 147.0142ms
2025-11-03 20:10:17.231 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundaryFI1aRW2hYgiTbL7O 470
2025-11-03 20:10:17.247 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:10:17.254 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:10:17.301 +02:00 [ERR] Неизвестная необработанная ошибка: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
 ---> Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery request token was not provided in either form field "__RequestVerificationToken" or header value "X-CSRF-TOKEN".
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidAntiforgeryToken(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForForm>g__TryReadFormAsync|104_0(HttpContext httpContext, String parameterTypeName, String parameterName, Boolean throwOnBadRequest)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:10:17.326 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 95.1003ms
2025-11-03 20:15:29.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:15:29.853 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:15:29.861 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:15:29.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 115.3169ms
2025-11-03 20:15:29.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:15:29.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:15:29.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:15:29.895 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:15:29.959 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:15:29.967 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:15:29.969 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:15:29.977 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:15:29.977 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:15:29.982 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:15:29.983 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:15:29.985 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:15:29.988 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:15:29.989 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:15:29.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 108.2765ms
2025-11-03 20:15:29.997 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:15:29.995 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 109.6149ms
2025-11-03 20:15:30.101 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:15:30.114 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:15:30.124 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:15:30.132 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:15:30.135 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:15:30.144 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 260.3471ms
2025-11-03 20:15:30.144 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:15:30.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - null null
2025-11-03 20:15:30.162 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:15:30.171 +02:00 [INF] The file /photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg was not modified
2025-11-03 20:15:30.173 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:15:30.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - 304 null image/jpeg 21.3727ms
2025-11-03 20:15:30.182 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:15:30.205 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:15:30.210 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:15:30.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 100.3878ms
2025-11-03 20:15:33.326 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundaryxAEFZEDjxhO7s2Iy 470
2025-11-03 20:15:33.359 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:15:33.368 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:15:33.429 +02:00 [ERR] Неизвестная необработанная ошибка: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
 ---> Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.FormatException: Malformed input: 25 is an invalid input length.
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetNumBase64PaddingCharsToAddForDecode(Int32 inputLength)
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetArraySizeRequiredToDecode(Int32 count)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.DeserializeTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet, AntiforgeryToken& cookieToken, AntiforgeryToken& requestToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidAntiforgeryToken(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForForm>g__TryReadFormAsync|104_0(HttpContext httpContext, String parameterTypeName, String parameterName, Boolean throwOnBadRequest)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:15:33.465 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 138.4403ms
2025-11-03 20:16:00.870 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:16:00.891 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:16:00.906 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:16:00.917 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 47.4675ms
2025-11-03 20:16:00.924 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:16:00.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:16:00.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:16:00.954 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:16:00.961 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:16:00.971 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:16:00.973 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:16:00.980 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:16:00.981 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:16:00.983 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:16:00.994 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:16:00.990 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:16:01.001 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:16:01.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 62.9189ms
2025-11-03 20:16:01.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 88.2637ms
2025-11-03 20:16:01.008 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:16:01.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:16:01.047 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:16:01.060 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:16:01.068 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:16:01.079 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:16:01.094 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:16:01.105 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:16:01.116 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:16:01.112 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:16:01.123 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:16:01.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 205.4433ms
2025-11-03 20:16:01.150 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:16:01.170 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:16:01.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 129.2765ms
2025-11-03 20:16:04.922 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundaryAfvelLOB1jrxksv6 470
2025-11-03 20:16:04.946 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:16:04.956 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:16:05.024 +02:00 [ERR] Неизвестная необработанная ошибка: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
 ---> Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.FormatException: Malformed input: 25 is an invalid input length.
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetNumBase64PaddingCharsToAddForDecode(Int32 inputLength)
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetArraySizeRequiredToDecode(Int32 count)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.DeserializeTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet, AntiforgeryToken& cookieToken, AntiforgeryToken& requestToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidAntiforgeryToken(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForForm>g__TryReadFormAsync|104_0(HttpContext httpContext, String parameterTypeName, String parameterName, Boolean throwOnBadRequest)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:16:05.050 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 128.27ms
2025-11-03 20:16:22.431 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:16:22.464 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:16:22.476 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:16:22.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 51.4427ms
2025-11-03 20:16:22.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:16:22.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:16:22.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:16:22.517 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:16:22.526 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:16:22.537 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:16:22.541 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:16:22.548 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:16:22.549 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:16:22.551 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:16:22.555 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:16:22.562 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:16:22.565 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:16:22.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 65.1654ms
2025-11-03 20:16:22.573 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:16:22.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 78.8004ms
2025-11-03 20:16:22.589 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:16:22.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:16:22.619 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:16:22.635 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:16:22.649 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:16:22.658 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:16:22.660 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:16:22.672 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:16:22.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 181.389ms
2025-11-03 20:16:22.684 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:16:22.705 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:16:22.725 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:16:22.734 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:16:22.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 134.7858ms
2025-11-03 20:16:25.379 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundaryT3v3G0gKAxVd8Tc8 470
2025-11-03 20:16:25.402 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:16:25.413 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:16:25.451 +02:00 [ERR] Неизвестная необработанная ошибка: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
 ---> Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.FormatException: Malformed input: 25 is an invalid input length.
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetNumBase64PaddingCharsToAddForDecode(Int32 inputLength)
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetArraySizeRequiredToDecode(Int32 count)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.DeserializeTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet, AntiforgeryToken& cookieToken, AntiforgeryToken& requestToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidAntiforgeryToken(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForForm>g__TryReadFormAsync|104_0(HttpContext httpContext, String parameterTypeName, String parameterName, Boolean throwOnBadRequest)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:16:25.475 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 96.6154ms
2025-11-03 20:17:21.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:17:21.377 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:17:21.390 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:17:21.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 60.4794ms
2025-11-03 20:17:21.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:17:21.407 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:17:21.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:17:21.434 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:17:21.445 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:17:21.454 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:17:21.465 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:17:21.465 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:17:21.469 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:17:21.471 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:17:21.477 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:17:21.481 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:17:21.485 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:17:21.487 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:17:21.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 64.4229ms
2025-11-03 20:17:21.497 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:17:21.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 86.2637ms
2025-11-03 20:17:21.517 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:17:21.525 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:17:21.533 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:17:21.544 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:17:21.549 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:17:21.557 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:17:21.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 155.7268ms
2025-11-03 20:17:21.574 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:17:21.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - null null
2025-11-03 20:17:21.588 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:17:21.598 +02:00 [INF] The file /photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg was not modified
2025-11-03 20:17:21.602 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:17:21.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg - 304 null image/jpeg 18.3046ms
2025-11-03 20:17:21.613 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:17:21.622 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:17:21.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 101.424ms
2025-11-03 20:17:24.055 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:17:24.055 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundaryAlUCpAD9u7hNhrJk 470
2025-11-03 20:17:24.085 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:17:24.103 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:17:24.108 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:17:24.117 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:17:24.122 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:17:24.161 +02:00 [ERR] Неизвестная необработанная ошибка: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid anti-forgery token found when reading parameter "NoteUpdateDto noteDto" from the request body as form.
 ---> Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.FormatException: Malformed input: 25 is an invalid input length.
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetNumBase64PaddingCharsToAddForDecode(Int32 inputLength)
   at Microsoft.AspNetCore.WebUtilities.WebEncoders.GetArraySizeRequiredToDecode(Int32 count)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.DeserializeTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet, AntiforgeryToken& cookieToken, AntiforgeryToken& requestToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidAntiforgeryToken(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForForm>g__TryReadFormAsync|104_0(HttpContext httpContext, String parameterTypeName, String parameterName, Boolean throwOnBadRequest)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Antiforgery.Internal.AntiforgeryMiddleware.InvokeAwaited(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TaskManager.Infrastructure.Logging.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Work\TaskManager\TaskManager\Infrastructure\Logging\ExceptionHandlingMiddleware.cs:line 21
2025-11-03 20:17:24.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 108.7186ms
2025-11-03 20:17:24.190 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 500 null application/json 135.4744ms
2025-11-03 20:18:33.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:18:33.655 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:18:33.673 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:18:33.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 65.1608ms
2025-11-03 20:18:33.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:18:33.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:18:33.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:18:33.738 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:18:33.750 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:18:33.760 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:18:33.763 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:18:33.770 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:18:33.770 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:18:33.772 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:18:33.778 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:18:33.782 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:18:33.785 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:18:33.788 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:18:33.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 68.5917ms
2025-11-03 20:18:33.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 91.7472ms
2025-11-03 20:18:33.806 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:18:33.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:18:33.868 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:18:33.882 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:18:33.891 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:18:33.902 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:18:33.908 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:18:33.927 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:18:33.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 228.1878ms
2025-11-03 20:18:33.941 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:18:33.959 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:18:33.983 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:18:33.998 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:18:34.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 150.4098ms
2025-11-03 20:18:37.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:18:37.772 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - multipart/form-data; boundary=----WebKitFormBoundary7LjPumKj4vBGLEdQ 470
2025-11-03 20:18:37.799 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:18:37.818 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:18:37.823 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:18:37.838 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:18:37.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 76.7535ms
2025-11-03 20:18:37.971 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:18:42.105 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:18:46.219 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:18:46.225 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:18:46.229 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:18:46.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:18:51.783 +02:00 [INF] Попытка удалить изображение /photo/notes/6e6c88b9-b273-434b-a5a4-b1fe32792412/3f50fe34-da6c-44de-87bd-3e1f523ea531.jpg
2025-11-03 20:18:51.793 +02:00 [INF] Попытка обновить задачу "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:18:51.797 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:18:51.800 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:18:51.895 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Images" = @p0, "Status" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-03 20:18:51.914 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:18:51.917 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:18:51.920 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 0 null 14147.4472ms
2025-11-03 20:18:58.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:18:58.834 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:18:58.848 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:18:58.859 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:18:58.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 57.6736ms
2025-11-03 20:18:58.909 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:18:58.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:18:58.968 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:18:58.986 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:18:58.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:18:58.999 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:18:59.012 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:18:59.013 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:18:59.017 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:18:59.018 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:18:59.021 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:18:59.024 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 102.8376ms
2025-11-03 20:18:59.032 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:18:59.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:18:59.080 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:18:59.090 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:18:59.098 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:18:59.109 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:18:59.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 200.7577ms
2025-11-03 20:18:59.121 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:18:59.143 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:18:59.157 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:18:59.185 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:18:59.196 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:18:59.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 147.1582ms
2025-11-03 20:19:00.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:19:00.206 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:19:00.221 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:19:00.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null null 65.2947ms
2025-11-03 20:19:00.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - null null
2025-11-03 20:19:00.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:19:00.293 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:19:00.318 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:19:00.336 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:19:00.351 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:19:00.358 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:19:00.359 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:19:00.364 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:19:00.371 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:19:00.373 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:19:00.380 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:19:00.383 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:19:00.387 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:19:00.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 96.9154ms
2025-11-03 20:19:00.392 +02:00 [INF] Попытка считать с бд задачу по id "6e6c88b9-b273-434b-a5a4-b1fe32792412"
2025-11-03 20:19:00.397 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 130.9135ms
2025-11-03 20:19:00.414 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:19:00.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:19:00.433 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:19:00.442 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:19:00.445 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:19:00.452 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:19:00.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/6e6c88b9-b273-434b-a5a4-b1fe32792412 - 200 null application/json; charset=utf-8 191.9691ms
2025-11-03 20:19:00.463 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:19:00.499 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:19:00.508 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:19:00.532 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:19:00.542 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:19:00.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 130.3702ms
2025-11-03 20:19:57.817 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:19:57.842 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:19:57.852 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:19:57.861 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:19:57.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 51.0783ms
2025-11-03 20:20:10.395 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/tasks/create - multipart/form-data; boundary=----WebKitFormBoundaryKcmS9OC8jUZKBbvD 2137175
2025-11-03 20:20:10.462 +02:00 [INF] Executing endpoint 'HTTP: POST /api/tasks/create'
2025-11-03 20:20:10.626 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:20:10.641 +02:00 [INF] Execute endpoint /api/tasks/create
2025-11-03 20:20:10.682 +02:00 [INF] Пробуем создать новую задачу
2025-11-03 20:20:10.699 +02:00 [INF] Попытка сохранить изображение Images[0]
2025-11-03 20:20:10.733 +02:00 [INF] Попытка создать задачу "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:20:10.876 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (Size = 94), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notes" ("Id", "BodyOfNote", "DateOfDeadLine", "HeadOfNote", "Images", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-03 20:20:10.904 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:20:10.914 +02:00 [INF] Executed endpoint 'HTTP: POST /api/tasks/create'
2025-11-03 20:20:10.920 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/tasks/create - 200 0 null 524.9998ms
2025-11-03 20:20:13.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:20:13.461 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:20:13.470 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:20:13.481 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:20:13.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 62.4303ms
2025-11-03 20:20:13.512 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:20:13.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:20:13.522 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:20:13.531 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:20:13.538 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:20:13.540 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:20:13.548 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:20:13.550 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:20:13.552 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:20:13.556 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:20:13.559 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:20:13.562 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 48.5264ms
2025-11-03 20:20:13.566 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:20:13.574 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:20:13.584 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:20:13.588 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:20:13.592 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:20:13.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 88.6284ms
2025-11-03 20:20:13.601 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:20:13.615 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:20:13.617 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:20:13.624 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:20:13.633 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:20:13.636 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:20:13.642 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 68.4091ms
2025-11-03 20:20:15.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:20:15.184 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:20:15.200 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:20:15.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null null 60.2503ms
2025-11-03 20:20:15.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:20:15.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:20:15.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:20:15.266 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:20:15.276 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:20:15.286 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:20:15.295 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:20:15.296 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:20:15.303 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:20:15.315 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:20:15.319 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:20:15.326 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:20:15.330 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:20:15.333 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:20:15.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 92.3898ms
2025-11-03 20:20:15.341 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:20:15.344 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 112.5762ms
2025-11-03 20:20:15.360 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:20:15.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:20:15.375 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:20:15.382 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:20:15.385 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:20:15.391 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:20:15.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null application/json; charset=utf-8 161.8118ms
2025-11-03 20:20:15.398 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:20:15.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg - null null
2025-11-03 20:20:15.410 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:20:15.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:20:15.475 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:20:15.484 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:20:15.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 121.4107ms
2025-11-03 20:20:15.503 +02:00 [INF] Sending file. Request path: '/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg'. Physical path: 'C:\Work\TaskManager\TaskManager\wwwroot\photo\notes\5a21ea7b-3f97-4290-bde0-ee444ad5593d\dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg'
2025-11-03 20:20:15.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg - 200 2136665 image/jpeg 101.6212ms
2025-11-03 20:21:51.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:21:51.964 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:21:51.985 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:21:51.995 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null null 51.7358ms
2025-11-03 20:21:52.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:21:51.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:21:52.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:21:52.030 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:21:52.037 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:21:52.045 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:21:52.051 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:21:52.051 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:21:52.054 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:21:52.062 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:21:52.065 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:21:52.068 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:21:52.070 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:21:52.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 76.28ms
2025-11-03 20:21:52.077 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:21:52.080 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:21:52.093 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 72.7274ms
2025-11-03 20:21:52.097 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:21:52.107 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:21:52.114 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:21:52.129 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:21:52.136 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:21:52.150 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:21:52.151 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null application/json; charset=utf-8 151.6949ms
2025-11-03 20:21:52.164 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:21:52.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg - null null
2025-11-03 20:21:52.181 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:21:52.193 +02:00 [INF] The file /photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg was not modified
2025-11-03 20:21:52.201 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:21:52.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg - 304 null image/jpeg 26.3563ms
2025-11-03 20:21:52.221 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:21:52.238 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:21:52.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 136.348ms
2025-11-03 20:21:55.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:21:55.784 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - multipart/form-data; boundary=----WebKitFormBoundaryiZLMwksGSgUPZbOk 461
2025-11-03 20:21:55.814 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:21:55.834 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:21:55.839 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:21:55.855 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:21:55.856 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:21:55.868 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:21:55.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 92.3847ms
2025-11-03 20:21:55.880 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:21:55.904 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:21:55.909 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:21:55.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:21:55.934 +02:00 [INF] Попытка удалить изображение /photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/dc9c69c0-a34a-4a85-bdd6-568f720ca12e.jpg
2025-11-03 20:21:55.944 +02:00 [INF] Попытка обновить задачу "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:21:55.959 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:21:55.968 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:21:55.991 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Images" = @p0, "Status" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-03 20:21:56.015 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:21:56.030 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:21:56.043 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 0 null 259.8541ms
2025-11-03 20:22:00.686 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:22:00.722 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:22:00.736 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:22:00.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null null 56.6559ms
2025-11-03 20:22:00.757 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:22:00.757 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:22:00.768 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:22:00.779 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:22:00.793 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:22:00.808 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:22:00.812 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:22:00.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:22:00.824 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:22:00.826 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:22:00.838 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:22:00.850 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:22:00.847 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:22:00.842 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:22:00.857 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:22:00.865 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 108.4098ms
2025-11-03 20:22:00.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 108.5305ms
2025-11-03 20:22:00.886 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:22:00.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:22:00.946 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:22:00.957 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:22:00.963 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:22:00.973 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:22:00.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null application/json; charset=utf-8 217.6913ms
2025-11-03 20:22:00.984 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:22:01.002 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:22:01.007 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:22:01.022 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:22:01.027 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:22:01.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 123.2303ms
2025-11-03 20:23:12.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/edit/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:23:12.807 +02:00 [INF] Executing endpoint '/tasks/edit/{id:guid}'
2025-11-03 20:23:12.818 +02:00 [INF] Executed endpoint '/tasks/edit/{id:guid}'
2025-11-03 20:23:12.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/edit/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null null 72.0578ms
2025-11-03 20:23:12.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:23:12.845 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:23:12.882 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:12.892 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:12.895 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:23:12.898 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:23:12.901 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:12.903 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:23:12.907 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 62.3931ms
2025-11-03 20:23:12.912 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:12.925 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:23:12.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 83.0769ms
2025-11-03 20:23:12.936 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:12.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:23:12.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:12.954 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:12.960 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:23:12.969 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:23:12.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:12.973 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:12.985 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:23:12.993 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:12.995 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:13.009 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:23:13.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:13.018 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:13.031 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:23:13.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null application/json; charset=utf-8 108.5176ms
2025-11-03 20:23:13.038 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:13.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 128.8863ms
2025-11-03 20:23:19.953 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - multipart/form-data; boundary=----WebKitFormBoundaryDesnE0lrDq2ePm8s 2137183
2025-11-03 20:23:19.979 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:23:20.100 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:20.116 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:23:20.121 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:23:20.130 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:23:20.136 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:20.148 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:20.168 +02:00 [INF] Попытка сохранить изображение Images[0]
2025-11-03 20:23:20.199 +02:00 [INF] Попытка обновить задачу "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:20.205 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:20.218 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:20.243 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 106), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Images" = @p0, "Status" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-03 20:23:20.270 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:23:20.285 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:23:20.298 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 0 null 345.0065ms
2025-11-03 20:23:21.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:23:21.341 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:23:21.366 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:23:21.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null null 69.8868ms
2025-11-03 20:23:21.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:23:21.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:23:21.424 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:23:21.440 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:21.449 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:21.459 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:21.463 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:23:21.469 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:21.470 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:23:21.473 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:23:21.480 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:23:21.483 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:21.486 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:21.488 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:23:21.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 68.1695ms
2025-11-03 20:23:21.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 97.5347ms
2025-11-03 20:23:21.499 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:21.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:23:21.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:21.551 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:21.561 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:23:21.568 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:21.570 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:21.579 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:23:21.584 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null application/json; charset=utf-8 186.6655ms
2025-11-03 20:23:21.588 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:21.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg - null null
2025-11-03 20:23:21.610 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:21.653 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:23:21.682 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:21.688 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 151.2091ms
2025-11-03 20:23:21.695 +02:00 [INF] Sending file. Request path: '/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg'. Physical path: 'C:\Work\TaskManager\TaskManager\wwwroot\photo\notes\5a21ea7b-3f97-4290-bde0-ee444ad5593d\b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg'
2025-11-03 20:23:21.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg - 200 2136665 image/jpeg 114.8168ms
2025-11-03 20:23:26.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:23:26.520 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - multipart/form-data; boundary=----WebKitFormBoundaryzVBDQHeATJWPL1Hp 664
2025-11-03 20:23:26.548 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:26.560 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:23:26.567 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:23:26.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:26.580 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:26.591 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:23:26.596 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 76.2978ms
2025-11-03 20:23:26.600 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:23:26.614 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:23:26.617 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:26.622 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:26.633 +02:00 [INF] Попытка обновить задачу "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:26.636 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:26.640 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:26.653 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:23:26.670 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:23:26.676 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:23:26.683 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 0 null 162.8989ms
2025-11-03 20:23:31.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:23:31.449 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:23:31.464 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:23:31.477 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null null 47.8267ms
2025-11-03 20:23:31.485 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - null null
2025-11-03 20:23:31.485 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:23:31.501 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:23:31.516 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:31.521 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:31.533 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:31.539 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:23:31.539 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:31.543 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:23:31.545 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:23:31.551 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:23:31.555 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:31.559 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:31.561 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:23:31.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 64.1095ms
2025-11-03 20:23:31.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 83.4156ms
2025-11-03 20:23:31.572 +02:00 [INF] Попытка считать с бд задачу по id "5a21ea7b-3f97-4290-bde0-ee444ad5593d"
2025-11-03 20:23:31.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:23:31.603 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:31.614 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:31.627 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:23:31.637 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:31.639 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:31.654 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:23:31.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/5a21ea7b-3f97-4290-bde0-ee444ad5593d - 200 null application/json; charset=utf-8 175.0762ms
2025-11-03 20:23:31.664 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:31.683 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg - null null
2025-11-03 20:23:31.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:31.715 +02:00 [INF] The file /photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg was not modified
2025-11-03 20:23:31.738 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:23:31.747 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/5a21ea7b-3f97-4290-bde0-ee444ad5593d/b7d4cb08-d3ce-4a25-8fce-c00840aee41b.jpg - 304 null image/jpeg 64.3584ms
2025-11-03 20:23:31.755 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:31.784 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 190.4589ms
2025-11-03 20:23:34.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:23:34.075 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:23:34.094 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:23:34.108 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:23:34.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 76.9154ms
2025-11-03 20:23:34.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:23:34.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:23:34.157 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:23:34.169 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:34.177 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:34.178 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:23:34.186 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:23:34.189 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:23:34.191 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:23:34.196 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:34.198 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:34.201 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 57.1859ms
2025-11-03 20:23:34.206 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:34.215 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:23:34.224 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:23:34.228 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:34.231 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:23:34.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 94.4159ms
2025-11-03 20:23:34.238 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:34.277 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:23:34.287 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:34.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:34.322 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:23:34.329 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:34.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 121.451ms
2025-11-03 20:23:36.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:23:36.176 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:36.184 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:23:36.195 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:36.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 58.912ms
2025-11-03 20:23:51.596 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/tasks/create - multipart/form-data; boundary=----WebKitFormBoundary6vMlBW1VBfhIANmW 2137172
2025-11-03 20:23:51.634 +02:00 [INF] Executing endpoint 'HTTP: POST /api/tasks/create'
2025-11-03 20:23:51.756 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:51.781 +02:00 [INF] Execute endpoint /api/tasks/create
2025-11-03 20:23:51.794 +02:00 [INF] Пробуем создать новую задачу
2025-11-03 20:23:51.803 +02:00 [INF] Попытка сохранить изображение Images[0]
2025-11-03 20:23:51.815 +02:00 [INF] Попытка создать задачу "a97cdf24-4556-4910-b111-a30a08b7e0f1"
2025-11-03 20:23:51.853 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime), @p3='?' (Size = 3), @p4='?' (Size = 2), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notes" ("Id", "BodyOfNote", "DateOfDeadLine", "HeadOfNote", "Images", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-03 20:23:51.882 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:23:51.896 +02:00 [INF] Executed endpoint 'HTTP: POST /api/tasks/create'
2025-11-03 20:23:51.908 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/tasks/create - 200 0 null 311.9029ms
2025-11-03 20:23:54.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:23:54.214 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:23:54.216 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:23:54.219 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:23:54.221 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 44.095ms
2025-11-03 20:23:54.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:23:54.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:23:54.321 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:54.338 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:23:54.344 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:23:54.354 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:23:54.354 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:54.360 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:54.374 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:23:54.380 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 125.6321ms
2025-11-03 20:23:54.384 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:23:54.402 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:23:54.406 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:54.418 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:54.424 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:54.439 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:23:54.445 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:23:54.450 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:54.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 147.9979ms
2025-11-03 20:23:54.459 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:23:54.550 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:54.558 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:54.577 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:23:54.585 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:54.594 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 191.7686ms
2025-11-03 20:23:56.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/a97cdf24-4556-4910-b111-a30a08b7e0f1 - null null
2025-11-03 20:23:56.354 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:23:56.370 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:23:56.381 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/a97cdf24-4556-4910-b111-a30a08b7e0f1 - 200 null null 60.7147ms
2025-11-03 20:23:56.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/a97cdf24-4556-4910-b111-a30a08b7e0f1 - null null
2025-11-03 20:23:56.402 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:23:56.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:23:56.421 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:56.434 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:56.447 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:56.454 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:56.454 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:23:56.459 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:23:56.464 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:23:56.467 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:23:56.471 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:23:56.473 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:23:56.476 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:23:56.480 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 71.9384ms
2025-11-03 20:23:56.482 +02:00 [INF] Попытка считать с бд задачу по id "a97cdf24-4556-4910-b111-a30a08b7e0f1"
2025-11-03 20:23:56.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 83.3916ms
2025-11-03 20:23:56.499 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:23:56.505 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:23:56.512 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:23:56.518 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:56.521 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:23:56.527 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:23:56.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/a97cdf24-4556-4910-b111-a30a08b7e0f1 - 200 null application/json; charset=utf-8 126.6318ms
2025-11-03 20:23:56.534 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:23:56.545 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:23:56.551 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:23:56.563 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:23:56.569 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:23:56.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 67.4465ms
2025-11-03 20:24:05.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:05.369 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:05.379 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:05.389 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:05.399 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 50.8403ms
2025-11-03 20:24:21.153 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/tasks/create - multipart/form-data; boundary=----WebKitFormBoundaryL8o3AicKPeEf9KzV 2137172
2025-11-03 20:24:21.190 +02:00 [INF] Executing endpoint 'HTTP: POST /api/tasks/create'
2025-11-03 20:24:21.309 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:21.321 +02:00 [INF] Execute endpoint /api/tasks/create
2025-11-03 20:24:21.325 +02:00 [INF] Пробуем создать новую задачу
2025-11-03 20:24:21.331 +02:00 [INF] Попытка сохранить изображение Images[0]
2025-11-03 20:24:21.340 +02:00 [INF] Попытка создать задачу "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:21.365 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime), @p3='?' (Size = 3), @p4='?' (Size = 94), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notes" ("Id", "BodyOfNote", "DateOfDeadLine", "HeadOfNote", "Images", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-03 20:24:21.384 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:24:21.397 +02:00 [INF] Executed endpoint 'HTTP: POST /api/tasks/create'
2025-11-03 20:24:21.405 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/tasks/create - 200 0 null 252.5938ms
2025-11-03 20:24:23.506 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:24:23.554 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:24:23.567 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:24:23.575 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:24:23.584 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 77.8748ms
2025-11-03 20:24:23.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:24:23.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:23.634 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:24:23.645 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:23.655 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:23.655 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:23.670 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:24:23.673 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:23.679 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:24:23.683 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:23.686 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:23.847 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 221.7727ms
2025-11-03 20:24:24.482 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:24.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:24.750 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:24:24.780 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:24:24.770 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:24.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 1171.3485ms
2025-11-03 20:24:24.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:24.835 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:24.839 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:24.844 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:24.854 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:24.857 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:24.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 134.748ms
2025-11-03 20:24:25.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:25.978 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:24:25.997 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:24:26.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null null 61.9501ms
2025-11-03 20:24:26.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:26.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:26.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:26.084 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:26.094 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:26.157 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:26.157 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:26.150 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:26.161 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:26.169 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:24:26.172 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:26.178 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:26.181 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:26.184 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:26.187 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 166.2732ms
2025-11-03 20:24:26.190 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:26.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 120.0732ms
2025-11-03 20:24:26.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:26.207 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:26.228 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:26.242 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:24:26.253 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:26.257 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:26.266 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:26.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null application/json; charset=utf-8 249.6524ms
2025-11-03 20:24:26.273 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:26.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg - null null
2025-11-03 20:24:26.292 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:26.351 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:26.355 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:26.356 +02:00 [INF] Sending file. Request path: '/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg'. Physical path: 'C:\Work\TaskManager\TaskManager\wwwroot\photo\notes\3bc8debd-e42d-4e95-b7a3-682fd943be52\316139e6-6ca2-421b-bc36-09770dd86093.jpg'
2025-11-03 20:24:26.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 160.0465ms
2025-11-03 20:24:26.368 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg - 200 2136665 image/jpeg 80.7067ms
2025-11-03 20:24:31.071 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:31.071 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - multipart/form-data; boundary=----WebKitFormBoundary1WUJvivYCs349Bfh 649
2025-11-03 20:24:31.096 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:31.118 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:31.127 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:31.139 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:31.140 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:31.156 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:24:31.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 93.5233ms
2025-11-03 20:24:31.167 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:24:31.183 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:31.187 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:31.194 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:31.207 +02:00 [INF] Попытка обновить задачу "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:31.212 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:31.219 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:31.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:24:31.246 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:24:31.250 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:31.254 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 0 null 182.8078ms
2025-11-03 20:24:34.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:34.220 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:24:34.234 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:24:34.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null null 61.0164ms
2025-11-03 20:24:34.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:34.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:34.278 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:34.290 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:34.305 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:34.336 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:34.334 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:34.324 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:34.342 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:34.370 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:34.364 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:34.356 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:24:34.387 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:34.381 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:34.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 120.3569ms
2025-11-03 20:24:34.389 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:34.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 120.8729ms
2025-11-03 20:24:34.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:34.440 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:34.477 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:34.494 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:24:34.503 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:34.510 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:34.529 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:34.540 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null application/json; charset=utf-8 284.6487ms
2025-11-03 20:24:34.547 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:34.574 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg - null null
2025-11-03 20:24:34.582 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:34.592 +02:00 [INF] The file /photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg was not modified
2025-11-03 20:24:34.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg - 304 null image/jpeg 31.9002ms
2025-11-03 20:24:34.606 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:34.624 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:34.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 200.0128ms
2025-11-03 20:24:38.482 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/edit/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:38.509 +02:00 [INF] Executing endpoint '/tasks/edit/{id:guid}'
2025-11-03 20:24:38.529 +02:00 [INF] Executed endpoint '/tasks/edit/{id:guid}'
2025-11-03 20:24:38.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/edit/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null null 55.213ms
2025-11-03 20:24:38.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:38.561 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:38.571 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:38.584 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:38.590 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:38.594 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:38.597 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:38.601 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:38.605 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:38.609 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 47.1937ms
2025-11-03 20:24:38.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 60.2563ms
2025-11-03 20:24:38.624 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:38.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:38.646 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:38.652 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:38.660 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:38.663 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:38.668 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:24:38.675 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:38.680 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:38.935 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:38.966 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:39.199 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:39.288 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:39.307 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:39.325 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:24:39.330 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:39.333 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:39.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 702.9473ms
2025-11-03 20:24:39.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null application/json; charset=utf-8 716.4408ms
2025-11-03 20:24:39.372 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg - null null
2025-11-03 20:24:39.384 +02:00 [INF] The file /photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg was not modified
2025-11-03 20:24:39.389 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg - 304 null image/jpeg 16.5718ms
2025-11-03 20:24:44.535 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - multipart/form-data; boundary=----WebKitFormBoundaryZnCitevS2GktJmCj 563
2025-11-03 20:24:44.556 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:44.565 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:44.579 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:24:44.588 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:24:44.595 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:44.602 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:44.614 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:44.640 +02:00 [INF] Попытка удалить изображение /photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/316139e6-6ca2-421b-bc36-09770dd86093.jpg
2025-11-03 20:24:44.654 +02:00 [INF] Попытка обновить задачу "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:44.665 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:44.678 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:44.703 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 4), @p1='?' (Size = 2), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "BodyOfNote" = @p0, "Images" = @p1, "Status" = @p2
WHERE "Id" = @p3
RETURNING 1;
2025-11-03 20:24:44.735 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:24:44.755 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:44.771 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 0 null 235.8541ms
2025-11-03 20:24:45.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:45.818 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:24:45.835 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:24:45.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null null 48.62ms
2025-11-03 20:24:45.856 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:45.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:45.875 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:45.893 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:45.902 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:45.914 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:45.924 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:45.925 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:45.931 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:45.945 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:24:45.950 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:45.958 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:45.965 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:45.975 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:45.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 107.4116ms
2025-11-03 20:24:45.987 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:45.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 134.9379ms
2025-11-03 20:24:46.014 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:46.028 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:46.039 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:24:46.049 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:46.053 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:46.063 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:46.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null application/json; charset=utf-8 207.2806ms
2025-11-03 20:24:46.072 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:46.088 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:46.094 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:46.105 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:46.115 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:46.124 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 96.2482ms
2025-11-03 20:24:48.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/edit/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:48.904 +02:00 [INF] Executing endpoint '/tasks/edit/{id:guid}'
2025-11-03 20:24:48.916 +02:00 [INF] Executed endpoint '/tasks/edit/{id:guid}'
2025-11-03 20:24:48.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/edit/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null null 49.7918ms
2025-11-03 20:24:48.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:48.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:48.966 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:48.981 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:48.984 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:48.988 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:48.994 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:48.996 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:48.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 53.0396ms
2025-11-03 20:24:49.003 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:49.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:49.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 64.7318ms
2025-11-03 20:24:49.026 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:49.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:49.048 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:49.054 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:49.063 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:24:49.071 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:49.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:49.075 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:49.085 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:49.091 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:49.093 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:49.104 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:24:49.111 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:49.113 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:49.131 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:49.132 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null application/json; charset=utf-8 118.3886ms
2025-11-03 20:24:49.141 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:49.170 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 132.1377ms
2025-11-03 20:24:56.167 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - multipart/form-data; boundary=----WebKitFormBoundaryZGvG0VFNncyTFkng 2137181
2025-11-03 20:24:56.197 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:56.294 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:56.317 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:24:56.327 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:24:56.331 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:56.335 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:56.344 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:56.371 +02:00 [INF] Попытка сохранить изображение Images[0]
2025-11-03 20:24:56.395 +02:00 [INF] Попытка обновить задачу "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:56.401 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:56.409 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:56.425 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 106)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Images" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:24:56.441 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:24:56.447 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:56.455 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 0 null 287.6876ms
2025-11-03 20:24:56.472 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - multipart/form-data; boundary=----WebKitFormBoundaryj4QekwfEiUL09soh 2137181
2025-11-03 20:24:56.486 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:56.560 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:56.568 +02:00 [INF] Execute endpoint /api/tasks/id  PUT
2025-11-03 20:24:56.573 +02:00 [INF] Пробуем обновить задачу по ее Id
2025-11-03 20:24:56.576 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:56.578 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:56.588 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:56.603 +02:00 [INF] Попытка сохранить изображение Images[0]
2025-11-03 20:24:56.624 +02:00 [INF] Попытка удалить изображение /../../../../photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/6b2695ef-c24c-4c38-87cd-b0cbad6e40b9.jpg
2025-11-03 20:24:56.630 +02:00 [ERR] При попытке считать изображение на вход методу поступил путь по которому не был найден файл /../../../../photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/6b2695ef-c24c-4c38-87cd-b0cbad6e40b9.jpg
2025-11-03 20:24:56.634 +02:00 [INF] Попытка обновить задачу "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:56.640 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:56.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:56.662 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 106)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Notes" SET "Images" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:24:56.690 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:24:56.699 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/tasks/{id:guid}'
2025-11-03 20:24:56.713 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 0 null 240.6082ms
2025-11-03 20:24:57.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:57.505 +02:00 [INF] Executing endpoint '/tasks/{id:guid}'
2025-11-03 20:24:57.517 +02:00 [INF] Executed endpoint '/tasks/{id:guid}'
2025-11-03 20:24:57.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null null 44.943ms
2025-11-03 20:24:57.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:24:57.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - null null
2025-11-03 20:24:57.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:24:57.571 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:57.592 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:57.607 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:57.613 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:24:57.620 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:57.621 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:24:57.627 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:24:57.637 +02:00 [INF] Execute endpoint /api/tasks/id
2025-11-03 20:24:57.639 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:24:57.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 94.5608ms
2025-11-03 20:24:57.647 +02:00 [INF] Попытка получения задачи по ее id
2025-11-03 20:24:57.651 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:24:57.671 +02:00 [INF] Попытка считать с бд задачу по id "3bc8debd-e42d-4e95-b7a3-682fd943be52"
2025-11-03 20:24:57.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 125.4676ms
2025-11-03 20:24:57.684 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:24:57.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:24:57.705 +02:00 [INF] Writing value of type 'NoteReadDto' as Json.
2025-11-03 20:24:57.717 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:57.722 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/{id:guid}'
2025-11-03 20:24:57.732 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:24:57.733 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/3bc8debd-e42d-4e95-b7a3-682fd943be52 - 200 null application/json; charset=utf-8 184.4118ms
2025-11-03 20:24:57.744 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:24:57.760 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/8171a53d-1531-4f33-a53b-de9cc7dba0c1.jpg - null null
2025-11-03 20:24:57.764 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:24:57.791 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:24:57.809 +02:00 [INF] Sending file. Request path: '/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/8171a53d-1531-4f33-a53b-de9cc7dba0c1.jpg'. Physical path: 'C:\Work\TaskManager\TaskManager\wwwroot\photo\notes\3bc8debd-e42d-4e95-b7a3-682fd943be52\8171a53d-1531-4f33-a53b-de9cc7dba0c1.jpg'
2025-11-03 20:24:57.814 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:24:57.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/notes/3bc8debd-e42d-4e95-b7a3-682fd943be52/8171a53d-1531-4f33-a53b-de9cc7dba0c1.jpg - 200 2136665 image/jpeg 55.5699ms
2025-11-03 20:24:57.819 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:24:57.838 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 141.8488ms
2025-11-03 20:25:00.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:25:00.926 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:25:00.938 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:25:00.949 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:25:00.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 82.1277ms
2025-11-03 20:25:00.981 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:25:00.987 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:25:00.999 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:25:01.010 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:25:01.014 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:25:01.023 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:25:01.023 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:01.028 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:25:01.035 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:25:01.038 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 56.7601ms
2025-11-03 20:25:01.041 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:25:01.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:25:01.051 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:01.060 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:25:01.063 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:01.068 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:01.075 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:25:01.078 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:25:01.081 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:25:01.083 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:01.086 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 99.6859ms
2025-11-03 20:25:01.091 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:01.111 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:25:01.114 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:25:01.117 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 67.8807ms
2025-11-03 20:25:03.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:25:03.931 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:25:03.943 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:25:03.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null null 48.9493ms
2025-11-03 20:25:03.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:25:03.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:25:03.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:25:03.967 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:25:03.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:25:03.988 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:25:03.999 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:25:04.008 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:25:04.017 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:25:04.026 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:25:04.028 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:25:04.035 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:04.038 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:04.059 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:04.045 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:25:04.053 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:25:04.059 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:04.061 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:25:04.066 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:25:04.070 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:25:04.076 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:25:04.082 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:04.085 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:04.085 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:04.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 122.2092ms
2025-11-03 20:25:04.091 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:04.102 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:04.096 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:04.115 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:04.119 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:25:04.124 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:25:04.147 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:25:04.148 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:25:04.151 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 183.5436ms
2025-11-03 20:25:04.159 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:25:04.162 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:25:04.162 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:25:04.161 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:25:04.176 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:04.180 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:25:04.185 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:25:04.193 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:25:04.195 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:25:04.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 224.3656ms
2025-11-03 20:25:04.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 238.212ms
2025-11-03 20:25:04.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 244.5144ms
2025-11-03 20:25:04.212 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:25:04.260 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:04.277 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:25:04.281 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:25:04.288 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 140.2739ms
2025-11-03 20:25:09.625 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/logout - null null
2025-11-03 20:25:09.752 +02:00 [INF] Executing endpoint 'HTTP: GET /logout'
2025-11-03 20:25:09.785 +02:00 [INF] Execute endpoint /logout
2025-11-03 20:25:09.804 +02:00 [INF] AuthenticationScheme: Cookies signed out.
2025-11-03 20:25:09.816 +02:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-03 20:25:09.823 +02:00 [INF] Executed endpoint 'HTTP: GET /logout'
2025-11-03 20:25:09.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/logout - 302 0 null 205.1171ms
2025-11-03 20:25:09.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:25:09.866 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:25:09.875 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:25:09.880 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 29.4208ms
2025-11-03 20:25:09.897 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:25:09.949 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:25:09.956 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:25:09.960 +02:00 [INF] Setting HTTP status code 401.
2025-11-03 20:25:09.965 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:25:09.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 401 0 null 74.9093ms
2025-11-03 20:25:11.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/signin - null null
2025-11-03 20:25:11.816 +02:00 [INF] Executing endpoint '/signin'
2025-11-03 20:25:11.827 +02:00 [INF] Executing RedirectResult, redirecting to /SighInPage.html.
2025-11-03 20:25:11.837 +02:00 [INF] Executed endpoint '/signin'
2025-11-03 20:25:11.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/signin - 302 0 null 55.9053ms
2025-11-03 20:25:11.860 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/SighInPage.html - null null
2025-11-03 20:25:11.868 +02:00 [INF] The file /SighInPage.html was not modified
2025-11-03 20:25:11.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/SighInPage.html - 304 null text/html 11.1846ms
2025-11-03 20:25:11.891 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:25:11.905 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:25:11.915 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:25:11.923 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:25:11.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 38.5385ms
2025-11-03 20:25:45.841 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/auth/send-confirm-code - application/json 25
2025-11-03 20:25:45.898 +02:00 [INF] Executing endpoint 'HTTP: POST /api/auth/send-confirm-code'
2025-11-03 20:25:45.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:25:49.967 +02:00 [INF] Execute endpoint /api/auth/send-confirm-code
2025-11-03 20:25:49.974 +02:00 [INF] Попытка отправить код подтверждения на почту пользователя
2025-11-03 20:25:49.979 +02:00 [INF] Попытка считать пользователя с бд по почте 15ot3@mail.ru
2025-11-03 20:25:49.992 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-03 20:25:50.018 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:25:50.026 +02:00 [INF] Попытка сохранения кода подтверждения пользователя "4aed3d4d-2fc1-470f-8873-8c0e02ec1ddf"
2025-11-03 20:25:50.043 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 13), @p2='?' (DbType = DateTime), @p3='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserConfirmations" ("Id", "Email", "Expiration", "Token")
VALUES (@p0, @p1, @p2, @p3);
2025-11-03 20:25:50.072 +02:00 [INF] Попытка отправить письмо на почту 15ot3@mail.ru
2025-11-03 20:25:51.839 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:25:51.860 +02:00 [INF] Executed endpoint 'HTTP: POST /api/auth/send-confirm-code'
2025-11-03 20:25:51.879 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/auth/send-confirm-code - 200 0 null 6038.1729ms
2025-11-03 20:26:58.513 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/auth/confirm-email - application/json 123
2025-11-03 20:26:58.545 +02:00 [INF] Executing endpoint 'HTTP: POST /api/auth/confirm-email'
2025-11-03 20:26:58.571 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:26:58.593 +02:00 [INF] Execute endpoint /api/auth/confirm-email
2025-11-03 20:26:58.604 +02:00 [INF] Попытка зарегестрироваться
2025-11-03 20:26:58.611 +02:00 [INF] Попытка сопостовления кода подтверждения с тем, что есть в базе данных
2025-11-03 20:26:58.618 +02:00 [INF] Попытка считывания кода подтверждения пользователя по почте пользователя 15ot3@mail.ru
2025-11-03 20:26:58.635 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Expiration", "u"."Token"
FROM "UserConfirmations" AS "u"
WHERE "u"."Email" = @__email_0
LIMIT 1
2025-11-03 20:26:58.650 +02:00 [INF] Попытка считать пользователя с бд по почте 15ot3@mail.ru
2025-11-03 20:26:58.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:26:59.152 +02:00 [INF] Попытка сохранения пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:26:59.263 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 13), @p2='?' (Size = 60), @p3='?' (Size = 2), @p4='?' (Size = 2), @p5='?' (Size = 2), @p6='?', @p7='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "PasswordHash", "BlockedUsers", "ConsiderationAppl", "Friends", "Avatar", "NickName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-03 20:26:59.303 +02:00 [INF] Попытка считывания кода подтверждения пользователя по почте пользователя 15ot3@mail.ru
2025-11-03 20:26:59.313 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Expiration", "u"."Token"
FROM "UserConfirmations" AS "u"
WHERE "u"."Email" = @__email_0
LIMIT 1
2025-11-03 20:26:59.337 +02:00 [INF] Попытка удаления кода подтверждения пользователя "4aed3d4d-2fc1-470f-8873-8c0e02ec1ddf"
2025-11-03 20:26:59.355 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserConfirmations"
WHERE "Id" = @p0
RETURNING 1;
2025-11-03 20:26:59.382 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-11-03 20:26:59.389 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:26:59.411 +02:00 [INF] Writing value of type '<>f__AnonymousType1`1' as Json.
2025-11-03 20:26:59.419 +02:00 [INF] Executed endpoint 'HTTP: POST /api/auth/confirm-email'
2025-11-03 20:26:59.428 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/auth/confirm-email - 200 null application/json; charset=utf-8 915.6035ms
2025-11-03 20:27:00.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:27:00.967 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:27:00.980 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:27:00.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 45.0769ms
2025-11-03 20:27:01.014 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:27:01.036 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:27:01.043 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:27:01.050 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:27:01.057 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:27:01.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 200 0 null 47.2669ms
2025-11-03 20:27:05.478 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:27:05.520 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:27:05.531 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:27:05.544 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:27:05.555 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 77.1259ms
2025-11-03 20:27:05.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:27:05.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:27:05.592 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:27:05.604 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:05.613 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:27:05.611 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:05.617 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:27:05.628 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:27:05.631 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:05.634 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:27:05.637 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 60.4354ms
2025-11-03 20:27:05.640 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:05.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:05.654 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:05.660 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:05.670 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:27:05.674 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:27:05.674 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:05.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 100.4303ms
2025-11-03 20:27:05.685 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:27:05.699 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:05.705 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:05.717 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:05.722 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:05.725 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 75.1816ms
2025-11-03 20:27:07.104 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:07.122 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:27:07.133 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:27:07.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null null 36.6776ms
2025-11-03 20:27:07.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:27:07.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:27:07.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:07.156 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:07.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:07.279 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:27:07.291 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:07.302 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:07.312 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:27:07.408 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:27:07.439 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:07.445 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:27:07.456 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:07.464 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:07.468 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:07.476 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:27:07.481 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:27:07.493 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:27:07.507 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:27:07.526 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:07.530 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:07.535 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:07.537 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:07.540 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:27:07.548 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:27:07.554 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:07.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 399.059ms
2025-11-03 20:27:07.565 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:07.594 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:27:07.565 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:07.580 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:27:07.624 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:07.626 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:27:07.634 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:07.638 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:27:07.642 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:07.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:07.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 488.5849ms
2025-11-03 20:27:07.665 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:27:07.683 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:07.674 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 512.7978ms
2025-11-03 20:27:07.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 495.8858ms
2025-11-03 20:27:07.746 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:07.737 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:27:07.782 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:27:07.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 629.774ms
2025-11-03 20:27:07.787 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:07.801 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:07.811 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:07.814 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:07.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 172.7582ms
2025-11-03 20:27:09.656 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ProfileEditPage.html - null null
2025-11-03 20:27:09.774 +02:00 [INF] Sending file. Request path: '/ProfileEditPage.html'. Physical path: 'C:\Work\TaskManager\TaskManager\wwwroot\ProfileEditPage.html'
2025-11-03 20:27:09.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ProfileEditPage.html - 200 12273 text/html 129.45ms
2025-11-03 20:27:09.798 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile - null null
2025-11-03 20:27:09.803 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:27:09.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:27:09.858 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile'
2025-11-03 20:27:09.873 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:09.886 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:27:09.893 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:09.894 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:27:09.914 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:27:09.913 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:09.900 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:27:09.920 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:09.925 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:09.927 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:27:09.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 129.9996ms
2025-11-03 20:27:09.942 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:09.944 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 108.2182ms
2025-11-03 20:27:09.959 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile'
2025-11-03 20:27:09.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile - 200 null application/json; charset=utf-8 177.4758ms
2025-11-03 20:27:16.099 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundarybEwkrKabV3jR2BBI 2136953
2025-11-03 20:27:16.134 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:16.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:16.262 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:27:16.286 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:27:16.296 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:27:16.324 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:16.333 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 234.0834ms
2025-11-03 20:27:17.351 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundaryjmG3Z6ATZ5MEXVID 2136953
2025-11-03 20:27:17.387 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:17.505 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:17.522 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:27:17.531 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:27:17.541 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:27:17.550 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundaryjEbzPJ48eFu78PbA 2136953
2025-11-03 20:27:17.552 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:17.568 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:17.596 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 246.6145ms
2025-11-03 20:27:17.696 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:17.722 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:27:17.729 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:27:17.743 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:27:17.745 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundarySAZGN8TJMLmQ1eHC 2136953
2025-11-03 20:27:17.749 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:17.767 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:17.776 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 226.0589ms
2025-11-03 20:27:17.856 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:17.879 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:27:17.887 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:27:17.898 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:27:17.909 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:17.921 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 175.8655ms
2025-11-03 20:27:17.950 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundary1n93JZtdFCxjkr1n 2136953
2025-11-03 20:27:17.972 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:18.055 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:18.068 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:27:18.077 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:27:18.094 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:27:18.112 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:27:18.138 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 188.2905ms
2025-11-03 20:27:52.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:52.127 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:27:52.149 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:27:52.171 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null null 78.6903ms
2025-11-03 20:27:52.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:52.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:52.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:52.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:27:52.212 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:27:52.231 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:27:52.246 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:52.261 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:27:52.274 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:27:52.283 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:52.289 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:52.292 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:52.295 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:52.300 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:52.301 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:27:52.309 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:52.316 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:27:52.323 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:27:52.331 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:27:52.333 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:27:52.338 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:27:52.340 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:52.349 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:52.342 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:27:52.345 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:52.363 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:27:52.367 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:52.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 157.3632ms
2025-11-03 20:27:52.372 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:52.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:52.377 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:27:52.388 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:52.404 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:52.413 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:27:52.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 238.5785ms
2025-11-03 20:27:52.420 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:53.094 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:27:53.206 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:27:54.307 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:27:54.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 2441.3362ms
2025-11-03 20:27:54.804 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:27:54.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 2746.2524ms
2025-11-03 20:27:55.666 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:56.285 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 4106.3937ms
2025-11-03 20:27:56.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:56.308 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:27:56.309 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:56.313 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:56.318 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:56.320 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:27:56.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 2015.4596ms
2025-11-03 20:27:59.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:27:59.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:27:59.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile - null null
2025-11-03 20:27:59.337 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:27:59.355 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:59.377 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile'
2025-11-03 20:27:59.384 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:27:59.389 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:27:59.399 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:27:59.401 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:27:59.403 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:27:59.410 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:27:59.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 93.7783ms
2025-11-03 20:27:59.418 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:27:59.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:27:59.433 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 114.1177ms
2025-11-03 20:27:59.444 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:27:59.459 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile'
2025-11-03 20:27:59.464 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile - 200 null application/json; charset=utf-8 145.1171ms
2025-11-03 20:28:29.684 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundary6iHAZlLRi8ABtTMg 2136953
2025-11-03 20:28:29.730 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:28:29.848 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:28:44.056 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:29:00.014 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:29:00.034 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:29:00.037 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:00.047 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 30363.0131ms
2025-11-03 20:29:13.615 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundaryRMoZMgv1wSSXYYne 5188716
2025-11-03 20:29:13.661 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:13.918 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:29:16.260 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:29:16.265 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:29:16.269 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:29:16.271 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:16.276 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 2660.9561ms
2025-11-03 20:29:22.699 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundarylgtBXAIS5jMEQ5z9 5188716
2025-11-03 20:29:22.736 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:22.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:29:24.623 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:29:30.440 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:29:30.448 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:29:31.866 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:31.871 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 9171.7858ms
2025-11-03 20:29:39.232 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundarys7ZQLzr66dbLM79Q 3287271
2025-11-03 20:29:39.261 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:39.389 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:29:41.863 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:29:44.807 +02:00 [INF] Setting HTTP status code 400.
2025-11-03 20:29:44.814 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:29:44.817 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:29:44.820 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 400 null application/json; charset=utf-8 5587.8153ms
2025-11-03 20:30:14.113 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/user/stats - multipart/form-data; boundary=----WebKitFormBoundaryus8RZCUlxhldMwDo 2744
2025-11-03 20:30:14.163 +02:00 [INF] Executing endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:30:14.180 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:16.630 +02:00 [INF] Execute endpoint /api/user/stats PUT
2025-11-03 20:30:21.612 +02:00 [INF] Пробуем обновить профиль авторизованного пользователя
2025-11-03 20:30:21.614 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:21.617 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:21.623 +02:00 [INF] Попытка сохранить изображение avatar
2025-11-03 20:30:21.629 +02:00 [INF] Попытка обновить пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:21.635 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 51)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Avatar" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:30:21.644 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:30:21.645 +02:00 [INF] Executed endpoint 'HTTP: PUT /api/user/stats'
2025-11-03 20:30:21.649 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/user/stats - 200 0 null 7536.2104ms
2025-11-03 20:30:25.271 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:25.304 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:30:25.317 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:30:25.326 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null null 57.1377ms
2025-11-03 20:30:25.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:25.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:30:25.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:25.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:25.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:30:25.381 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:30:25.392 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:30:25.431 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:25.412 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:30:25.424 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:25.401 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:25.434 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:25.464 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:30:25.474 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:25.474 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:30:25.481 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:25.485 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:30:25.487 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:30:25.494 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:25.496 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:30:25.502 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:25.516 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:25.508 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:25.505 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:25.513 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:30:25.524 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:25.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 159.6182ms
2025-11-03 20:30:25.534 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:25.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:25.545 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:30:25.549 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:25.575 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:30:25.584 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:30:25.586 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:30:25.598 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:25.600 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:30:25.604 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:30:25.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 248.0034ms
2025-11-03 20:30:25.610 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:25.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 266.7996ms
2025-11-03 20:30:25.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 271.4223ms
2025-11-03 20:30:25.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 285.4961ms
2025-11-03 20:30:25.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:25.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:30:25.678 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:25.692 +02:00 [INF] Sending file. Request path: '/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png'. Physical path: 'C:\Work\TaskManager\TaskManager\wwwroot\photo\ava\4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png'
2025-11-03 20:30:25.700 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:25.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 200 2458 image/png 35.7355ms
2025-11-03 20:30:25.713 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:25.733 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:25.740 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:25.753 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:25.759 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:25.764 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 133.5164ms
2025-11-03 20:30:28.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/friendList - null null
2025-11-03 20:30:28.944 +02:00 [INF] Executing endpoint '/api/friendList'
2025-11-03 20:30:29.046 +02:00 [INF] Executed endpoint '/api/friendList'
2025-11-03 20:30:29.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/friendList - 200 null null 162.5881ms
2025-11-03 20:30:29.075 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/friends - null null
2025-11-03 20:30:29.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:30:29.115 +02:00 [INF] Executing endpoint 'HTTP: GET /api/friends'
2025-11-03 20:30:29.135 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:29.146 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:29.149 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:30:29.167 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:30:29.168 +02:00 [INF] Execute endpoint /api/friends
2025-11-03 20:30:29.174 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:29.185 +02:00 [INF] Пробуем получить всех друзей авторизованного пользователя
2025-11-03 20:30:29.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 90.7522ms
2025-11-03 20:30:29.192 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:29.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:29.215 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:29.226 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:29.244 +02:00 [INF] Попытка считать все чаты пользователя 367b2482-7f30-46e9-bffa-fbafe3aab749
2025-11-03 20:30:29.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:29.253 +02:00 [INF] Попытка считать с бд пользователя с id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:29.258 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:29.263 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:29.269 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:29.281 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:29.287 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:29.288 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-03 20:30:29.292 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 85.4895ms
2025-11-03 20:30:29.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:30:29.329 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:30:29.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 24.342ms
2025-11-03 20:30:29.373 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:29.398 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id"
FROM "Chats" AS "c"
2025-11-03 20:30:29.423 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:30:29.436 +02:00 [INF] Executed endpoint 'HTTP: GET /api/friends'
2025-11-03 20:30:29.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/friends - 200 null application/json; charset=utf-8 374.6072ms
2025-11-03 20:30:34.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:34.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:30:34.546 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:34.565 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:30:34.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:34.575 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 52.2195ms
2025-11-03 20:30:34.586 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:34.599 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:34.604 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:34.613 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:34.616 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:34.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 97.101ms
2025-11-03 20:30:37.971 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/add-friend - null null
2025-11-03 20:30:38.024 +02:00 [INF] Executing endpoint '/api/add-friend'
2025-11-03 20:30:38.108 +02:00 [INF] Executed endpoint '/api/add-friend'
2025-11-03 20:30:38.113 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/add-friend - 200 null null 142.6018ms
2025-11-03 20:30:38.128 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:30:38.141 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:38.146 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:30:38.151 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:30:38.157 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:38.187 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 58.2241ms
2025-11-03 20:30:38.212 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:38.237 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:38.247 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:38.262 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:38.267 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:38.273 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:38.286 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:38.299 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:38.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 98.5816ms
2025-11-03 20:30:38.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:30:38.381 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:30:38.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 161.0204ms
2025-11-03 20:30:44.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/search?query=kambi - null null
2025-11-03 20:30:44.292 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/search'
2025-11-03 20:30:44.327 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:44.355 +02:00 [INF] Execute endpoint /api/user/search
2025-11-03 20:30:44.366 +02:00 [INF] Попытка поиска пользователя по никнэйму kambi
2025-11-03 20:30:44.411 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-03 20:30:44.482 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_0='?' (Size = 5), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
FROM "Users" AS "u"
WHERE instr(lower("u"."NickName"), @__query_0) > 0 OR instr(lower("u"."Email"), @__query_0) > 0
LIMIT @__p_1
2025-11-03 20:30:44.501 +02:00 [INF] Writing value of type 'SelectListIterator`2' as Json.
2025-11-03 20:30:44.512 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/search'
2025-11-03 20:30:44.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/search?query=kambi - 200 null application/json; charset=utf-8 267.0445ms
2025-11-03 20:30:46.531 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:46.568 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:30:46.581 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:30:46.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null null 58.4576ms
2025-11-03 20:30:46.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:46.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:46.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:30:46.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:46.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:30:46.649 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:46.669 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:30:46.685 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:30:46.695 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:30:46.706 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:46.716 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:46.723 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:46.730 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:46.733 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:46.735 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:30:46.744 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:46.752 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:30:46.759 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:30:46.765 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:30:46.770 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:30:46.773 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:30:46.775 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:30:46.777 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:46.782 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:30:46.785 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:46.798 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:46.799 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:46.804 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:46.812 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:30:46.859 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:30:46.834 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:46.834 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:46.854 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:30:46.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 183.6513ms
2025-11-03 20:30:46.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 247.2868ms
2025-11-03 20:30:46.884 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:30:46.887 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:46.892 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:30:46.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:46.932 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:30:46.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 358.2246ms
2025-11-03 20:30:46.944 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 328.5289ms
2025-11-03 20:30:46.966 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:46.939 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 324.874ms
2025-11-03 20:30:47.053 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:47.094 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:47.101 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:47.111 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:47.133 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:47.140 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:47.147 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 237.2624ms
2025-11-03 20:30:47.171 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:30:47.190 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:30:47.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 35.1429ms
2025-11-03 20:30:52.053 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/friends/request/74393051-5ca8-40d0-85ab-d597b7153f46 - application/json 0
2025-11-03 20:30:52.081 +02:00 [INF] Executing endpoint 'HTTP: POST /api/friends/request/{profileId:guid}'
2025-11-03 20:30:52.097 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:52.127 +02:00 [INF] Execute endpoint /api/friends/request/profileId
2025-11-03 20:30:52.139 +02:00 [INF] Пробуем отправить заявку на дружбу пользователь по его Id
2025-11-03 20:30:52.150 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:52.167 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:52.198 +02:00 [INF] Попытка обновить пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:52.212 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "ConsiderationAppl" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:30:52.238 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:52.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:52.267 +02:00 [INF] Попытка отправить уведомление 00000000-0000-0000-0000-000000000000 пользователю 74393051-5ca8-40d0-85ab-d597b7153f46, отправитель 367b2482-7f30-46e9-bffa-fbafe3aab749
2025-11-03 20:30:52.273 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:30:52.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:52.301 +02:00 [INF] Попытка сохранения уведомления "00000000-0000-0000-0000-000000000000"
2025-11-03 20:30:52.431 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 48), @p2='?' (DbType = Int32), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "Body", "NotificationType", "SenderId", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-03 20:30:52.460 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:30:52.471 +02:00 [INF] Executed endpoint 'HTTP: POST /api/friends/request/{profileId:guid}'
2025-11-03 20:30:52.483 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/friends/request/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 0 null 430.2654ms
2025-11-03 20:30:57.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:57.583 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:30:57.596 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:30:57.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null null 48.3112ms
2025-11-03 20:30:57.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:57.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:57.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:30:57.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:30:57.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:30:57.645 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:57.659 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:30:57.671 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:30:57.681 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:30:57.690 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:57.695 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:57.698 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:57.701 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:57.705 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:57.706 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:30:57.712 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:57.718 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:30:57.725 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:30:57.747 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:30:57.733 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:30:57.738 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:30:57.746 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:30:57.731 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:30:57.751 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:57.757 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:30:57.769 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:57.781 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:30:57.783 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:57.791 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:57.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 163.3182ms
2025-11-03 20:30:57.816 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:30:57.822 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:57.822 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:57.847 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:30:57.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:30:57.910 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:57.884 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:57.885 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:30:57.893 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:30:57.861 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 242.1653ms
2025-11-03 20:30:57.927 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:30:57.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 322.5077ms
2025-11-03 20:30:57.946 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:30:57.959 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 339.3264ms
2025-11-03 20:30:58.004 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:30:58.030 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 410.5386ms
2025-11-03 20:30:58.058 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:30:58.083 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:30:58.104 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:30:58.110 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:30:58.114 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 257.3251ms
2025-11-03 20:30:58.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:30:58.134 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:30:58.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 12.6839ms
2025-11-03 20:31:01.047 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:31:01.078 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:31:01.086 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:31:01.094 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:31:01.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 54.1754ms
2025-11-03 20:31:01.123 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:31:01.124 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:01.135 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:31:01.146 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:01.154 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:01.154 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:01.164 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:31:01.166 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:01.169 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:31:01.173 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:01.175 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:01.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 54.2069ms
2025-11-03 20:31:01.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:01.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:01.199 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:31:01.206 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:01.208 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:31:01.215 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:01.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 91.4135ms
2025-11-03 20:31:01.226 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:01.237 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:01.243 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:01.254 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:01.258 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:01.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 71.972ms
2025-11-03 20:31:01.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:31:01.281 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:31:01.284 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 10.7489ms
2025-11-03 20:31:02.842 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/logout - null null
2025-11-03 20:31:02.882 +02:00 [INF] Executing endpoint 'HTTP: GET /logout'
2025-11-03 20:31:02.898 +02:00 [INF] Execute endpoint /logout
2025-11-03 20:31:02.909 +02:00 [INF] AuthenticationScheme: Cookies signed out.
2025-11-03 20:31:02.919 +02:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-03 20:31:02.930 +02:00 [INF] Executed endpoint 'HTTP: GET /logout'
2025-11-03 20:31:02.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/logout - 302 0 null 97.9794ms
2025-11-03 20:31:02.960 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:31:02.976 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:31:02.988 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:31:03.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 40.0176ms
2025-11-03 20:31:03.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:31:03.041 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:03.047 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:31:03.052 +02:00 [INF] Setting HTTP status code 401.
2025-11-03 20:31:03.058 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:03.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 401 0 null 36.7453ms
2025-11-03 20:31:04.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/login - null null
2025-11-03 20:31:04.943 +02:00 [INF] Executing endpoint '/login'
2025-11-03 20:31:04.954 +02:00 [INF] Executing RedirectResult, redirecting to /LogInPage.html.
2025-11-03 20:31:04.965 +02:00 [INF] Executed endpoint '/login'
2025-11-03 20:31:04.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/login - 302 0 null 63.0517ms
2025-11-03 20:31:05.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:31:05.024 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:31:05.032 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:31:05.041 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:31:05.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 47.6004ms
2025-11-03 20:31:06.804 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/postuser - application/json 53
2025-11-03 20:31:06.833 +02:00 [INF] Executing endpoint 'HTTP: POST /postuser'
2025-11-03 20:31:06.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:06.869 +02:00 [INF] Execute endpoint /postuser
2025-11-03 20:31:06.875 +02:00 [INF] Попытка войти в аккаунт
2025-11-03 20:31:06.881 +02:00 [INF] Попытка считать пользователя с бд по почте 15ot2@mail.ru
2025-11-03 20:31:06.889 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:07.330 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-11-03 20:31:07.350 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:31:07.363 +02:00 [INF] Writing value of type '<>f__AnonymousType1`1' as Json.
2025-11-03 20:31:07.375 +02:00 [INF] Executed endpoint 'HTTP: POST /postuser'
2025-11-03 20:31:07.383 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/postuser - 200 null application/json; charset=utf-8 578.7402ms
2025-11-03 20:31:08.394 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:31:08.416 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:31:08.430 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:31:08.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 47.0562ms
2025-11-03 20:31:08.474 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:31:08.495 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:08.502 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:31:08.507 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:31:08.512 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:08.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 200 0 null 44.7259ms
2025-11-03 20:31:09.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:31:09.952 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:31:09.961 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:31:09.972 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:31:09.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 55.8874ms
2025-11-03 20:31:10.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:10.394 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:31:10.404 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:10.426 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:31:10.432 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:10.440 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:10.441 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:10.475 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:10.524 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:31:10.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 506.0754ms
2025-11-03 20:31:10.534 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:31:10.550 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:10.618 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:10.808 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:10.818 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:10.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:10.838 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:31:10.846 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:10.849 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:31:10.853 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:10.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 462.8663ms
2025-11-03 20:31:10.861 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:10.881 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:10.884 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:10.890 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 339.9407ms
2025-11-03 20:31:11.686 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:11.703 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:31:11.712 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:31:11.722 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null null 35.5334ms
2025-11-03 20:31:11.737 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:11.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:31:11.737 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:11.738 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:11.759 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:11.770 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:31:11.781 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:31:11.792 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:11.802 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:31:11.813 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:11.821 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:11.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:11.828 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:11.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:11.833 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:11.840 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:11.849 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:31:11.859 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:11.881 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:11.870 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:11.876 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:31:11.877 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:11.866 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:31:12.036 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:12.263 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:12.343 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:31:12.351 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:12.354 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:31:12.372 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:12.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 617.5148ms
2025-11-03 20:31:12.382 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:31:12.405 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:31:12.405 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:12.411 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:12.431 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:12.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 699.6327ms
2025-11-03 20:31:12.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:12.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 717.7728ms
2025-11-03 20:31:12.457 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:31:12.469 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:12.506 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:31:12.524 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 783.592ms
2025-11-03 20:31:12.534 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:12.537 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:31:12.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:12.569 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:12.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 838.0588ms
2025-11-03 20:31:12.591 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:12.595 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:12.618 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:12.622 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:12.630 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:12.648 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:12.648 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:12.654 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:12.658 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:12.671 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:12.675 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 243.7507ms
2025-11-03 20:31:12.679 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:12.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 266.4444ms
2025-11-03 20:31:12.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:31:12.912 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:31:12.917 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 20.6267ms
2025-11-03 20:31:16.920 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/notifications/acceptFriendRequest/76483a41-02fe-48d4-a4a7-bbe7c3cf9fa7 - application/json 0
2025-11-03 20:31:16.962 +02:00 [INF] Executing endpoint 'HTTP: POST api/notifications/acceptFriendRequest/{id:guid}'
2025-11-03 20:31:16.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:17.002 +02:00 [INF] Execute endpoint api/notifications/acceptFriendRequest/id:guid
2025-11-03 20:31:17.010 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:17.019 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:17.044 +02:00 [INF] Попытка считать уведомление с бд 76483a41-02fe-48d4-a4a7-bbe7c3cf9fa7
2025-11-03 20:31:17.060 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."Body", "n"."NotificationType", "n"."SenderId", "n"."Status", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:31:17.076 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:17.088 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:17.120 +02:00 [INF] Попытка удаления уведомления "76483a41-02fe-48d4-a4a7-bbe7c3cf9fa7"
2025-11-03 20:31:17.193 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Notifications"
WHERE "Id" = @p0
RETURNING 1;
2025-11-03 20:31:17.213 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 2), @p1='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "ConsiderationAppl" = @p0, "Friends" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-11-03 20:31:17.234 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 40)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Friends" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-11-03 20:31:17.291 +02:00 [INF] Попытка обновить пользователя "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:17.308 +02:00 [INF] Попытка обновить пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:17.322 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:17.331 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:17.355 +02:00 [INF] Попытка отправить уведомление 00000000-0000-0000-0000-000000000000 пользователю 367b2482-7f30-46e9-bffa-fbafe3aab749, отправитель 74393051-5ca8-40d0-85ab-d597b7153f46
2025-11-03 20:31:17.360 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:17.369 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:17.395 +02:00 [INF] Попытка сохранения уведомления "00000000-0000-0000-0000-000000000000"
2025-11-03 20:31:17.415 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 45), @p2='?' (DbType = Int32), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "Body", "NotificationType", "SenderId", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-03 20:31:17.433 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:31:17.445 +02:00 [INF] Executed endpoint 'HTTP: POST api/notifications/acceptFriendRequest/{id:guid}'
2025-11-03 20:31:17.463 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/notifications/acceptFriendRequest/76483a41-02fe-48d4-a4a7-bbe7c3cf9fa7 - 200 0 null 543.52ms
2025-11-03 20:31:19.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:31:19.272 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:31:19.292 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:19.309 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:31:19.314 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:19.324 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:19.341 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:31:19.346 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:31:19.351 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 110.1958ms
2025-11-03 20:31:22.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/friendList - null null
2025-11-03 20:31:22.276 +02:00 [INF] Executing endpoint '/api/friendList'
2025-11-03 20:31:22.293 +02:00 [INF] Executed endpoint '/api/friendList'
2025-11-03 20:31:22.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/friendList - 200 null null 58.3194ms
2025-11-03 20:31:22.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/friends - null null
2025-11-03 20:31:22.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:22.357 +02:00 [INF] Executing endpoint 'HTTP: GET /api/friends'
2025-11-03 20:31:22.372 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:22.378 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:22.379 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:22.387 +02:00 [INF] Execute endpoint /api/friends
2025-11-03 20:31:22.389 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:22.392 +02:00 [INF] Пробуем получить всех друзей авторизованного пользователя
2025-11-03 20:31:22.396 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:22.398 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:22.402 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 64.5727ms
2025-11-03 20:31:22.407 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:22.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:22.426 +02:00 [INF] Попытка считать все чаты пользователя 74393051-5ca8-40d0-85ab-d597b7153f46
2025-11-03 20:31:22.431 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:22.435 +02:00 [INF] Попытка считать с бд пользователя с id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:22.445 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:22.447 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:22.461 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:22.477 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id"
FROM "Chats" AS "c"
2025-11-03 20:31:22.480 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:22.496 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:22.505 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:22.509 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:22.530 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:22.557 +02:00 [INF] Попытка создания чата "eeefbb83-d3d1-4a8c-847c-d38a2dc01790"
2025-11-03 20:31:22.559 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:22.577 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 160.99ms
2025-11-03 20:31:22.653 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Chats" ("Id")
VALUES (@p0);
2025-11-03 20:31:22.676 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("ChatsId", "MembersId")
VALUES (@p0, @p1);
2025-11-03 20:31:22.701 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("ChatsId", "MembersId")
VALUES (@p0, @p1);
2025-11-03 20:31:22.732 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:31:22.742 +02:00 [INF] Executed endpoint 'HTTP: GET /api/friends'
2025-11-03 20:31:22.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/friends - 200 null application/json; charset=utf-8 419.5692ms
2025-11-03 20:31:22.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:31:22.786 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:31:22.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 21.6177ms
2025-11-03 20:31:24.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:24.281 +02:00 [INF] Executing endpoint '/chat/{id:guid}'
2025-11-03 20:31:24.395 +02:00 [INF] Executed endpoint '/chat/{id:guid}'
2025-11-03 20:31:24.402 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null null 136.6543ms
2025-11-03 20:31:24.418 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:24.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:31:24.429 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:24.440 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:31:24.445 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:24.450 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:31:24.453 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:24.457 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:31:24.461 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:24.465 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 44.7152ms
2025-11-03 20:31:24.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 50.8397ms
2025-11-03 20:31:24.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:31:24.497 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:24.503 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:24.509 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:24.512 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:24.517 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:24.531 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:24.537 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:24.542 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 52.7549ms
2025-11-03 20:31:24.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:24.612 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:24.619 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:24.624 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:24.633 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:24.640 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 48.7059ms
2025-11-03 20:31:24.657 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:24.670 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:24.679 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:24.707 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:24.716 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:24.723 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:24.734 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:24.775 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-03 20:31:24.899 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:25.132 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:25.141 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:25.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 492.2406ms
2025-11-03 20:31:27.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:27.211 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:27.222 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:27.238 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:27.250 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:27.348 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:27.407 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:27.427 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:27.442 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:27.446 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:27.451 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 281.8686ms
2025-11-03 20:31:29.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:29.212 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:29.239 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:29.275 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:29.290 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:29.298 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:29.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:29.349 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:29.369 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:29.378 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:29.386 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 214.0875ms
2025-11-03 20:31:31.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:31.206 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:31.238 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:31.249 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:31.253 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:31.256 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:31.261 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:31.275 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:31.288 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:31.294 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:31.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 133.5035ms
2025-11-03 20:31:31.917 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790/sendMessage - multipart/form-data; boundary=----WebKitFormBoundaryZTsisoepbeWKT6GA 266
2025-11-03 20:31:31.952 +02:00 [INF] Executing endpoint 'HTTP: POST api/chat/{id:guid}/sendMessage'
2025-11-03 20:31:31.972 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:32.007 +02:00 [INF] Execute endpoint /api/chat/id/sendMessage
2025-11-03 20:31:32.028 +02:00 [INF] Пробуем отправить сообщение в чат
2025-11-03 20:31:32.037 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:32.049 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:32.078 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:32.107 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:32.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:32.166 +02:00 [INF] Попытка создания сообщения "005fad69-3dd4-4fcc-838e-27b8960c38a0"
2025-11-03 20:31:32.228 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 2), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ChatId", "SendTime", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-11-03 20:31:32.274 +02:00 [INF] Попытка обновить чат "eeefbb83-d3d1-4a8c-847c-d38a2dc01790"
2025-11-03 20:31:32.359 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__updatedChat_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__updatedChat_Id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:32.418 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:31:32.429 +02:00 [INF] Executed endpoint 'HTTP: POST api/chat/{id:guid}/sendMessage'
2025-11-03 20:31:32.440 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790/sendMessage - 200 0 null 523.2472ms
2025-11-03 20:31:32.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:32.473 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:32.480 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:32.492 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:32.497 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:32.501 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:32.508 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:32.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:32.544 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:32.555 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:32.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 103.926ms
2025-11-03 20:31:33.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:33.191 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:33.204 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:33.223 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:33.230 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:33.236 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:33.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:33.267 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:33.288 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:33.294 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:33.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 136.5349ms
2025-11-03 20:31:35.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/logout - null null
2025-11-03 20:31:35.124 +02:00 [INF] Executing endpoint 'HTTP: GET /logout'
2025-11-03 20:31:35.133 +02:00 [INF] Execute endpoint /logout
2025-11-03 20:31:35.139 +02:00 [INF] AuthenticationScheme: Cookies signed out.
2025-11-03 20:31:35.147 +02:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-03 20:31:35.155 +02:00 [INF] Executed endpoint 'HTTP: GET /logout'
2025-11-03 20:31:35.164 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:31:35.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/logout - 302 0 null 75.092ms
2025-11-03 20:31:35.179 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:35.199 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:31:35.209 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:35.224 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:31:35.251 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:31:35.271 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:31:35.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 96.9599ms
2025-11-03 20:31:35.283 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:31:35.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:31:35.333 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:31:35.350 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:35.356 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:35.359 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:31:35.374 +02:00 [INF] Setting HTTP status code 401.
2025-11-03 20:31:35.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:31:35.377 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:35.390 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:31:35.391 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 401 0 null 63.9097ms
2025-11-03 20:31:35.404 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:31:35.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 499 null application/json; charset=utf-8 247.8014ms
2025-11-03 20:31:36.764 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/login - null null
2025-11-03 20:31:36.799 +02:00 [INF] Executing endpoint '/login'
2025-11-03 20:31:36.807 +02:00 [INF] Executing RedirectResult, redirecting to /LogInPage.html.
2025-11-03 20:31:36.816 +02:00 [INF] Executed endpoint '/login'
2025-11-03 20:31:36.823 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/login - 302 0 null 58.7193ms
2025-11-03 20:31:36.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:31:36.862 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:31:36.868 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:31:36.874 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:31:36.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 29.4106ms
2025-11-03 20:31:40.425 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/postuser - application/json 53
2025-11-03 20:31:40.443 +02:00 [INF] Executing endpoint 'HTTP: POST /postuser'
2025-11-03 20:31:40.467 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:40.582 +02:00 [INF] Execute endpoint /postuser
2025-11-03 20:31:40.589 +02:00 [INF] Попытка войти в аккаунт
2025-11-03 20:31:40.594 +02:00 [INF] Попытка считать пользователя с бд по почте 15ot3@mail.ru
2025-11-03 20:31:40.602 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:41.102 +02:00 [ERR] Несоответствие паролей при попытке войти в аккаунт
2025-11-03 20:31:41.110 +02:00 [INF] Setting HTTP status code 401.
2025-11-03 20:31:41.121 +02:00 [INF] Executed endpoint 'HTTP: POST /postuser'
2025-11-03 20:31:41.128 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/postuser - 401 0 null 703.3532ms
2025-11-03 20:31:53.926 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/postuser - application/json 53
2025-11-03 20:31:53.941 +02:00 [INF] Executing endpoint 'HTTP: POST /postuser'
2025-11-03 20:31:53.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:53.973 +02:00 [INF] Execute endpoint /postuser
2025-11-03 20:31:53.976 +02:00 [INF] Попытка войти в аккаунт
2025-11-03 20:31:53.978 +02:00 [INF] Попытка считать пользователя с бд по почте 15ot3@mail.ru
2025-11-03 20:31:53.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:54.510 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-11-03 20:31:54.515 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:31:54.520 +02:00 [INF] Writing value of type '<>f__AnonymousType1`1' as Json.
2025-11-03 20:31:54.526 +02:00 [INF] Executed endpoint 'HTTP: POST /postuser'
2025-11-03 20:31:54.555 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/postuser - 200 null application/json; charset=utf-8 628.3777ms
2025-11-03 20:31:55.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:31:55.573 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:31:55.588 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:31:55.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 46.877ms
2025-11-03 20:31:55.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:31:55.700 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:55.705 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:31:55.709 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:31:55.735 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:31:55.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 200 0 null 106.1854ms
2025-11-03 20:31:57.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/work - null null
2025-11-03 20:31:57.838 +02:00 [INF] Executing endpoint '/work'
2025-11-03 20:31:57.842 +02:00 [INF] Executing RedirectResult, redirecting to /WorkPage.html.
2025-11-03 20:31:57.846 +02:00 [INF] Executed endpoint '/work'
2025-11-03 20:31:57.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/work - 302 0 null 133.7366ms
2025-11-03 20:31:57.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:57.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks - null null
2025-11-03 20:31:57.883 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:57.892 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:31:57.895 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:31:57.903 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:31:57.905 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:57.908 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:57.917 +02:00 [INF] Execute endpoint /api/tasks/
2025-11-03 20:31:57.920 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 47.651ms
2025-11-03 20:31:57.924 +02:00 [INF] Попытка получения всех задач авторизованного пользователя
2025-11-03 20:31:57.935 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:57.938 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:57.947 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:57.952 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:57.956 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:57.962 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:31:57.966 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:31:57.969 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/'
2025-11-03 20:31:57.971 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:31:57.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks - 200 null application/json; charset=utf-8 101.3826ms
2025-11-03 20:31:57.978 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:31:57.995 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:31:58.001 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:58.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 69.0095ms
2025-11-03 20:31:58.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:31:58.026 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:31:58.029 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 10.889ms
2025-11-03 20:31:59.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:59.861 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:31:59.878 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:31:59.887 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null null 60.0992ms
2025-11-03 20:31:59.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:31:59.909 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:59.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:59.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:31:59.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:31:59.942 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:31:59.952 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:32:00.003 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:31:59.981 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:31:59.995 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:31:59.969 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:32:00.006 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:00.013 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:32:00.028 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:00.029 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:32:00.040 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:00.043 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:32:00.045 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:00.053 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:00.055 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:32:00.061 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:00.069 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:00.063 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:32:00.073 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:00.069 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:00.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:32:00.091 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:00.092 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:32:00.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 168.9525ms
2025-11-03 20:32:00.099 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:00.106 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:32:00.109 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:00.111 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:32:00.135 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:00.136 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:32:00.148 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 239.8531ms
2025-11-03 20:32:00.149 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:32:00.153 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:00.156 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:00.158 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 249.8897ms
2025-11-03 20:32:00.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - null null
2025-11-03 20:32:00.175 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:32:00.179 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 271.0684ms
2025-11-03 20:32:00.190 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:00.215 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:00.221 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 312.5507ms
2025-11-03 20:32:00.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:00.256 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:00.279 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:00.291 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:00.294 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:00.298 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:32:00.306 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:00.309 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:00.331 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:00.345 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:00.346 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:00.357 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:00.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 207.1674ms
2025-11-03 20:32:00.370 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/74393051-5ca8-40d0-85ab-d597b7153f46 - 200 null application/json; charset=utf-8 198.1383ms
2025-11-03 20:32:03.297 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/notifications/dea4101a-c6a0-4cd7-9470-c5118ca8fd89 - null null
2025-11-03 20:32:03.323 +02:00 [INF] Executing endpoint 'HTTP: DELETE api/notifications/{id:guid}'
2025-11-03 20:32:03.346 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:03.362 +02:00 [INF] Execute endpoint api/notifications/id DELETE
2025-11-03 20:32:03.370 +02:00 [INF] Пробуем удалить уведомление
2025-11-03 20:32:03.377 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:03.385 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:03.405 +02:00 [INF] Попытка считать уведомление с бд dea4101a-c6a0-4cd7-9470-c5118ca8fd89
2025-11-03 20:32:03.410 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."Body", "n"."NotificationType", "n"."SenderId", "n"."Status", "n"."UserId"
FROM "Notifications" AS "n"
WHERE "n"."Id" = @__id_0
LIMIT 1
2025-11-03 20:32:03.426 +02:00 [INF] Попытка удаления уведомления "dea4101a-c6a0-4cd7-9470-c5118ca8fd89"
2025-11-03 20:32:03.438 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Notifications"
WHERE "Id" = @p0
RETURNING 1;
2025-11-03 20:32:03.464 +02:00 [INF] Setting HTTP status code 200.
2025-11-03 20:32:03.472 +02:00 [INF] Executed endpoint 'HTTP: DELETE api/notifications/{id:guid}'
2025-11-03 20:32:03.481 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/notifications/dea4101a-c6a0-4cd7-9470-c5118ca8fd89 - 200 0 null 183.3608ms
2025-11-03 20:32:03.503 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:32:03.520 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:32:03.529 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:03.545 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:32:03.550 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:03.561 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:03.583 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:32:03.596 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:32:03.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 104.7829ms
2025-11-03 20:32:08.138 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:08.153 +02:00 [INF] Executing endpoint '/profile/{id:guid}'
2025-11-03 20:32:08.161 +02:00 [INF] Executed endpoint '/profile/{id:guid}'
2025-11-03 20:32:08.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null null 30.2026ms
2025-11-03 20:32:08.185 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:08.185 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/notifications - null null
2025-11-03 20:32:08.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:08.185 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:08.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:32:08.211 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:08.222 +02:00 [INF] Executing endpoint 'HTTP: GET api/notifications'
2025-11-03 20:32:08.234 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:32:08.246 +02:00 [INF] Executing endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:32:08.259 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:08.269 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:08.271 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:08.274 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:08.277 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:08.278 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:32:08.285 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:08.291 +02:00 [INF] Execute endpoint api/notifications
2025-11-03 20:32:08.301 +02:00 [INF] Execute endpoint /api/user/status/profileId
2025-11-03 20:32:08.306 +02:00 [INF] Попытка считать с бд весь NotePool по id пользователя "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:08.311 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:32:08.314 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:08.316 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:08.318 +02:00 [INF] Пробуем определить статус профиля, по отношению к авторизованному пользователю
2025-11-03 20:32:08.323 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId"
FROM "Notes" AS "n"
WHERE "n"."UserId" = @__userId_0
2025-11-03 20:32:08.326 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:08.329 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:08.332 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:08.333 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:08.338 +02:00 [INF] Writing value of type '<>f__AnonymousType3`4' as Json.
2025-11-03 20:32:08.343 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 147.1411ms
2025-11-03 20:32:08.354 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:08.362 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:32:08.363 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:08.364 +02:00 [INF] Executed endpoint 'HTTP: GET /api/tasks/stats/{id:guid}'
2025-11-03 20:32:08.385 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:08.388 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:08.392 +02:00 [INF] Executed endpoint 'HTTP: GET api/notifications'
2025-11-03 20:32:08.410 +02:00 [INF] Writing value of type 'ProfileStatus' as Json.
2025-11-03 20:32:08.410 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/tasks/stats/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 224.7363ms
2025-11-03 20:32:08.413 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 228.2903ms
2025-11-03 20:32:08.425 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:08.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/notifications - 200 null application/json; charset=utf-8 242.4559ms
2025-11-03 20:32:08.431 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/status/{profileId:guid}'
2025-11-03 20:32:08.467 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:08.479 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/status/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 292.7565ms
2025-11-03 20:32:08.486 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:08.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - null null
2025-11-03 20:32:08.497 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:08.506 +02:00 [INF] The file /photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png was not modified
2025-11-03 20:32:08.509 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:08.511 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/photo/ava/4f91495b-f29f-478c-a2ab-98e7ff10a8b7.png - 304 null image/png 16.157ms
2025-11-03 20:32:08.521 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:08.532 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:08.535 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 147.7141ms
2025-11-03 20:32:10.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/friendList - null null
2025-11-03 20:32:10.350 +02:00 [INF] Executing endpoint '/api/friendList'
2025-11-03 20:32:10.358 +02:00 [INF] Executed endpoint '/api/friendList'
2025-11-03 20:32:10.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/friendList - 200 null null 76.2171ms
2025-11-03 20:32:10.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:32:10.386 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/friends - null null
2025-11-03 20:32:10.428 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:10.439 +02:00 [INF] Executing endpoint 'HTTP: GET /api/friends'
2025-11-03 20:32:10.442 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:32:10.552 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:10.594 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:32:10.671 +02:00 [INF] Execute endpoint /api/friends
2025-11-03 20:32:10.674 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:10.678 +02:00 [INF] Пробуем получить всех друзей авторизованного пользователя
2025-11-03 20:32:10.682 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 297.2333ms
2025-11-03 20:32:10.685 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:10.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:10.705 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:10.715 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:10.726 +02:00 [INF] Попытка считать все чаты пользователя 367b2482-7f30-46e9-bffa-fbafe3aab749
2025-11-03 20:32:10.730 +02:00 [INF] Попытка считать с бд пользователя с id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:10.730 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:10.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__id_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:10.741 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:10.751 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id"
FROM "Chats" AS "c"
2025-11-03 20:32:10.751 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:10.758 +02:00 [INF] Попытка считать пользователя с бд по id "74393051-5ca8-40d0-85ab-d597b7153f46"
2025-11-03 20:32:10.765 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:10.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:10.792 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:10.809 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-11-03 20:32:10.809 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:10.816 +02:00 [INF] Executed endpoint 'HTTP: GET /api/friends'
2025-11-03 20:32:10.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 120.5269ms
2025-11-03 20:32:10.824 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/friends - 200 null application/json; charset=utf-8 438.2004ms
2025-11-03 20:32:11.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:12.138 +02:00 [INF] Executing endpoint '/chat/{id:guid}'
2025-11-03 20:32:12.167 +02:00 [INF] Executed endpoint '/chat/{id:guid}'
2025-11-03 20:32:12.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null null 506.3391ms
2025-11-03 20:32:12.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:32:12.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/csrf-token - null null
2025-11-03 20:32:12.223 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:12.269 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:32:12.258 +02:00 [INF] Executing endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:32:12.277 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:32:12.285 +02:00 [INF] Writing value of type '<>f__AnonymousType2`1' as Json.
2025-11-03 20:32:12.290 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:12.298 +02:00 [INF] Executed endpoint 'HTTP: GET /csrf-token'
2025-11-03 20:32:12.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 120.7464ms
2025-11-03 20:32:12.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/csrf-token - 200 null application/json; charset=utf-8 107.6612ms
2025-11-03 20:32:12.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - null null
2025-11-03 20:32:12.368 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:12.377 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:12.394 +02:00 [INF] Execute endpoint /api/user/profile/id
2025-11-03 20:32:12.400 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:12.412 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:12.433 +02:00 [INF] Writing value of type 'UserProfileReadDto' as Json.
2025-11-03 20:32:12.439 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/profile/{id:guid}'
2025-11-03 20:32:12.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/profile/367b2482-7f30-46e9-bffa-fbafe3aab749 - 200 null application/json; charset=utf-8 158.5794ms
2025-11-03 20:32:12.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/user/me - null null
2025-11-03 20:32:12.645 +02:00 [INF] Executing endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:12.651 +02:00 [INF] Execute endpoint /api/user/me
2025-11-03 20:32:12.654 +02:00 [INF] Writing value of type 'String' as Json.
2025-11-03 20:32:12.658 +02:00 [INF] Executed endpoint 'HTTP: GET /api/user/me'
2025-11-03 20:32:12.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/user/me - 200 null application/json; charset=utf-8 32.2741ms
2025-11-03 20:32:12.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:12.686 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:12.693 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:12.700 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:12.702 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:12.704 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:12.711 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:12.734 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:12.760 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:12.766 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:12.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 99.3693ms
2025-11-03 20:32:14.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:14.815 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:14.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:14.851 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:14.855 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:14.860 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:14.869 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:14.890 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:14.908 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:14.919 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:14.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 147.9746ms
2025-11-03 20:32:16.793 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:16.819 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:16.833 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:16.856 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:16.867 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:16.878 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:16.889 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:16.925 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:16.958 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:16.973 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:16.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 197.0757ms
2025-11-03 20:32:18.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:18.829 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:18.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:18.875 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:18.885 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:18.895 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:18.907 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:18.948 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:18.984 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:18.999 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:19.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 225.4476ms
2025-11-03 20:32:20.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:20.833 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:20.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:20.868 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:20.873 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:20.878 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:20.889 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:20.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:20.940 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:20.947 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:20.956 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 155.8692ms
2025-11-03 20:32:22.782 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:22.807 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:22.825 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:22.855 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:22.865 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:22.873 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:22.887 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:22.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:22.936 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:22.944 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:22.952 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 170.2505ms
2025-11-03 20:32:24.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:24.801 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:24.809 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:24.821 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:24.825 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:24.829 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:24.836 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:24.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:24.867 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:24.874 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:24.880 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 94.4026ms
2025-11-03 20:32:26.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:26.852 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:26.867 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:26.887 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:26.893 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:26.899 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:26.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:26.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:26.943 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:26.952 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:27.205 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 410.494ms
2025-11-03 20:32:28.801 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:28.846 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:28.866 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:28.887 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:28.894 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:28.903 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:28.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:28.955 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:28.993 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:29.004 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:29.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 212.2747ms
2025-11-03 20:32:30.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - null null
2025-11-03 20:32:30.828 +02:00 [INF] Executing endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:30.843 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-03 20:32:30.875 +02:00 [INF] Execute endpoint /api/chat/id
2025-11-03 20:32:30.882 +02:00 [INF] Попытка получения конкретного чата по его Id
2025-11-03 20:32:30.890 +02:00 [INF] Попытка считать пользователя с бд по id "367b2482-7f30-46e9-bffa-fbafe3aab749"
2025-11-03 20:32:30.906 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ID_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u0"."Id", "u0"."Email", "u0"."PasswordHash", "u0"."BlockedUsers", "u0"."ConsiderationAppl", "u0"."Friends", "u0"."Avatar", "u0"."NickName", "n"."Id", "n"."BodyOfNote", "n"."DateOfDeadLine", "n"."HeadOfNote", "n"."Images", "n"."Status", "n"."UserId", "n0"."Id", "n0"."Body", "n0"."NotificationType", "n0"."SenderId", "n0"."Status", "n0"."UserId", "s"."ChatsId", "s"."MembersId", "s"."Id"
FROM (
    SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__ID_0
    LIMIT 1
) AS "u0"
LEFT JOIN "Notes" AS "n" ON "u0"."Id" = "n"."UserId"
LEFT JOIN "Notifications" AS "n0" ON "u0"."Id" = "n0"."UserId"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "c"."Id"
    FROM "Enrollments" AS "e"
    INNER JOIN "Chats" AS "c" ON "e"."ChatsId" = "c"."Id"
) AS "s" ON "u0"."Id" = "s"."MembersId"
ORDER BY "u0"."Id", "n"."Id", "n0"."Id", "s"."ChatsId", "s"."MembersId"
2025-11-03 20:32:30.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id", "s"."Email", "s"."PasswordHash", "s"."BlockedUsers", "s"."ConsiderationAppl", "s"."Friends", "s"."Avatar", "s"."NickName", "m"."Id", "m"."Body", "m"."ChatId", "m"."SendTime", "m"."SenderId"
FROM (
    SELECT "c"."Id"
    FROM "Chats" AS "c"
    WHERE "c"."Id" = @__id_0
    LIMIT 1
) AS "c0"
LEFT JOIN (
    SELECT "e"."ChatsId", "e"."MembersId", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."BlockedUsers", "u"."ConsiderationAppl", "u"."Friends", "u"."Avatar", "u"."NickName"
    FROM "Enrollments" AS "e"
    INNER JOIN "Users" AS "u" ON "e"."MembersId" = "u"."Id"
) AS "s" ON "c0"."Id" = "s"."ChatsId"
LEFT JOIN "Messages" AS "m" ON "c0"."Id" = "m"."ChatId"
ORDER BY "c0"."Id", "s"."ChatsId", "s"."MembersId", "s"."Id"
2025-11-03 20:32:30.970 +02:00 [INF] Writing value of type 'ChatReadDto' as Json.
2025-11-03 20:32:30.980 +02:00 [INF] Executed endpoint 'HTTP: GET api/chat/{id:guid}'
2025-11-03 20:32:30.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/chat/eeefbb83-d3d1-4a8c-847c-d38a2dc01790 - 200 null application/json; charset=utf-8 197.8056ms
2025-11-03 20:32:31.377 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/logout - null null
2025-11-03 20:32:31.425 +02:00 [INF] Executing endpoint 'HTTP: GET /logout'
2025-11-03 20:32:31.446 +02:00 [INF] Execute endpoint /logout
2025-11-03 20:32:31.459 +02:00 [INF] AuthenticationScheme: Cookies signed out.
2025-11-03 20:32:31.472 +02:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-03 20:32:31.492 +02:00 [INF] Executed endpoint 'HTTP: GET /logout'
2025-11-03 20:32:31.504 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/logout - 302 0 null 126.3052ms
2025-11-03 20:32:31.533 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-11-03 20:32:31.550 +02:00 [INF] Executing endpoint '/'
2025-11-03 20:32:31.560 +02:00 [INF] Executed endpoint '/'
2025-11-03 20:32:31.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 200 null text/html; charset=utf-8 33.071ms
2025-11-03 20:32:31.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/me - null null
2025-11-03 20:32:31.599 +02:00 [INF] Executing endpoint 'HTTP: GET /api/me'
2025-11-03 20:32:31.605 +02:00 [INF] Execute endpoint /api/me
2025-11-03 20:32:31.610 +02:00 [INF] Setting HTTP status code 401.
2025-11-03 20:32:31.616 +02:00 [INF] Executed endpoint 'HTTP: GET /api/me'
2025-11-03 20:32:31.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/me - 401 0 null 33.2906ms
